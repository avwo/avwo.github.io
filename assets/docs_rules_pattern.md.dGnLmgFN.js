import{_ as t,c as a,o,ag as l}from"./chunks/framework.Bw-5EFTY.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/rules/pattern.md","filePath":"docs/rules/pattern.md"}'),s={name:"docs/rules/pattern.md"};function d(c,e,i,n,p,r){return o(),a("div",null,e[0]||(e[0]=[l(`<p><code>pattern</code> æ˜¯ Whistle è§„åˆ™ä¸­çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œç”¨äºåŒ¹é…è¯·æ±‚ URLï¼Œæ”¯æŒåŸŸåã€è·¯å¾„ã€é€šé…ç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰å¤šç§åŒ¹é…æ–¹å¼ã€‚</p><p>é€šè¿‡ <code>pattern</code>ï¼Œä½ å¯ä»¥ï¼š</p><ul><li>ç²¾ç¡®åŒ¹é…ç‰¹å®šåŸŸåæˆ–è·¯å¾„</li><li>ä½¿ç”¨é€šé…ç¬¦åŒ¹é…ä¸€ç»„ç›¸å…³è¯·æ±‚</li><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®ç°å¤æ‚åŒ¹é…é€»è¾‘</li><li>æ”¯æŒä¸‰ç§ä¸åŒç±»å‹çš„ URL åŒ¹é…</li></ul><h2 id="è¯·æ±‚-url-ç±»å‹" tabindex="-1">è¯·æ±‚ URL ç±»å‹ <a class="header-anchor" href="#è¯·æ±‚-url-ç±»å‹" aria-label="Permalink to &quot;è¯·æ±‚ URL ç±»å‹&quot;">â€‹</a></h2><p>Whistle æ”¯æŒä¸‰ç§è¯·æ±‚ URL ç±»å‹ï¼š</p><table tabindex="0"><thead><tr><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">æ ¼å¼</th><th style="text-align:left;">ç¤ºä¾‹</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>éš§é“ä»£ç†</strong></td><td style="text-align:left;"><code>tunnel://domain[:port]</code></td><td style="text-align:left;"><code>tunnel://www.test.com:443</code></td></tr><tr><td style="text-align:left;"><strong>WebSocket</strong></td><td style="text-align:left;"><code>ws[s]://domain[:port]/[path/to[?query]]</code></td><td style="text-align:left;"><code>wss://www.test.com/path?a=1&amp;b=2</code><br><code>ws://www.example.com:8080/path</code></td></tr><tr><td style="text-align:left;"><strong>æ™®é€š HTTP/HTTPS</strong></td><td style="text-align:left;"><code>http[s]://domain[:port]/[path/to][?query]</code></td><td style="text-align:left;"><code>https://www.test.com/path</code><br><code>http://www.example.com/path?a=1&amp;b=2</code></td></tr></tbody></table><h2 id="åŸŸååŒ¹é…" tabindex="-1">åŸŸååŒ¹é… <a class="header-anchor" href="#åŸŸååŒ¹é…" aria-label="Permalink to &quot;åŸŸååŒ¹é…&quot;">â€‹</a></h2><h3 id="åŸŸåç»“æ„" tabindex="-1">åŸŸåç»“æ„ <a class="header-anchor" href="#åŸŸåç»“æ„" aria-label="Permalink to &quot;åŸŸåç»“æ„&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[[schema]://]domain[:port]</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>domain</code>ï¼šåŸŸåæˆ– IP åœ°å€ï¼Œæ”¯æŒé€šé…ç¬¦</li><li><code>port</code>ï¼šç«¯å£å·ï¼ˆå¯é€‰ï¼‰ï¼Œæ”¯æŒé€šé…ç¬¦</li><li><code>schema</code>ï¼šåè®®ç±»å‹ï¼ˆå¯é€‰ï¼Œå¦‚ <code>http</code>ã€<code>https</code>ã€<code>ws</code>ã€<code>wss</code>ã€<code>tunnel</code>ï¼‰ï¼Œæ”¯æŒé€šé…ç¬¦</li><li><code>//</code>ï¼šè¡¨ç¤ºä½¿ç”¨å½“å‰è¯·æ±‚çš„åè®®ï¼ˆè‡ªåŠ¨é€‚é… HTTP/HTTPSï¼‰</li></ul><h3 id="åŒ¹é…æ ¼å¼" tabindex="-1">åŒ¹é…æ ¼å¼ <a class="header-anchor" href="#åŒ¹é…æ ¼å¼" aria-label="Permalink to &quot;åŒ¹é…æ ¼å¼&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">æ ¼å¼</th><th style="text-align:left;">ç¤ºä¾‹</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>æ­£å¸¸åŸŸå</strong>ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰</td><td style="text-align:left;"><code>domain</code><br><code>IP</code><br><code>//domain</code><br><code>//IP</code></td><td style="text-align:left;"><code>www.example.com</code><br><code>1.2.3.4</code><br><code>*.example.com</code><br><code>//www.example.com</code><br><code>//1.2.3.4</code></td></tr><tr><td style="text-align:left;"><strong>å¸¦ç«¯å£åŸŸå</strong>ï¼ˆç«¯å£æ”¯æŒé€šé…ç¬¦ï¼‰</td><td style="text-align:left;"><code>domain:port</code><br><code>//domain:port</code></td><td style="text-align:left;"><code>www.example.com:8080</code><br><code>//www.ex*le.com:8*</code></td></tr><tr><td style="text-align:left;"><strong>å¸¦åè®®åŸŸå</strong>ï¼ˆåè®®æ”¯æŒé€šé…ç¬¦ï¼‰</td><td style="text-align:left;"><code>schema://domain[:port]</code></td><td style="text-align:left;"><code>tunnel://www.*amp*.com</code><br><code>ws*://**.example.com:443</code><br><code>http*://www.example.com:8*8</code></td></tr></tbody></table><h3 id="åŸŸåçš„é€šé…ç¬¦è¯´æ˜" tabindex="-1">åŸŸåçš„é€šé…ç¬¦è¯´æ˜ <a class="header-anchor" href="#åŸŸåçš„é€šé…ç¬¦è¯´æ˜" aria-label="Permalink to &quot;åŸŸåçš„é€šé…ç¬¦è¯´æ˜&quot;">â€‹</a></h3><h4 id="åŸŸåé€šé…ç¬¦" tabindex="-1">åŸŸåé€šé…ç¬¦ <a class="header-anchor" href="#åŸŸåé€šé…ç¬¦" aria-label="Permalink to &quot;åŸŸåé€šé…ç¬¦&quot;">â€‹</a></h4><ul><li><code>*</code>ï¼šç›¸å½“äºæ­£åˆ™ <code>/[^/?.]*/</code>ï¼ˆå³åŸŸåé‡Œé¢çš„ 0 æˆ–ä»»æ„å¤šä¸ªé <code>.</code> å­—ç¬¦ï¼‰</li><li><code>**</code>ï¼šç›¸å½“äºæ­£åˆ™ <code>/[^/?]*/</code>ï¼ˆå³åŸŸåé‡Œé¢çš„ 0 æˆ–ä»»æ„å¤šä¸ªå­—ç¬¦ï¼‰</li><li><code>***</code>ï¼ˆåŠä»¥ä¸Šï¼‰ï¼šä¸æ¨èä½¿ç”¨</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ul><li><code>www.example*.com</code>ï¼šå¯ä»¥åŒ¹é… <code>www.example.com</code>ã€<code>www.examplexxx.com:8080</code> ç­‰ï¼Œä½†ä¸èƒ½åŒ¹é… <code>www.example.x.com</code></li><li><code>*.example.com</code>ï¼šå¯ä»¥åŒ¹é… <code>www.example.com</code>ã€<code>www.example.com:8080</code>ï¼Œä½†ä¸èƒ½åŒ¹é… <code>x.www.example.com</code></li><li><code>**.example.com</code>ï¼šå¯ä»¥åŒ¹é… <code>x.y.z.www.example.com</code>ã€<code>x.y.www.example.com:8080</code> ç­‰ï¼Œä½†ä¸èƒ½åŒ¹é… <code>example.com</code></li></ul><h4 id="ç«¯å£é€šé…ç¬¦" tabindex="-1">ç«¯å£é€šé…ç¬¦ <a class="header-anchor" href="#ç«¯å£é€šé…ç¬¦" aria-label="Permalink to &quot;ç«¯å£é€šé…ç¬¦&quot;">â€‹</a></h4><ul><li><code>*</code>ï¼ˆåŠä»¥ä¸Šï¼‰ï¼šç›¸å½“äºæ­£åˆ™ <code>/\\d*/</code>ï¼ˆå³ 0 æˆ–ä»»æ„å¤šä¸ªæ•°å­—ï¼‰</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ul><li><code>http://www.example.com:8*8</code>ï¼šåŒ¹é… <code>http://www.example.com:88</code>ã€<code>http://www.example.com:8888</code> ç­‰ï¼Œä½†ä¸èƒ½åŒ¹é… <code>http://www.example.com:8080</code></li></ul><h4 id="åè®®é€šé…ç¬¦" tabindex="-1">åè®®é€šé…ç¬¦ <a class="header-anchor" href="#åè®®é€šé…ç¬¦" aria-label="Permalink to &quot;åè®®é€šé…ç¬¦&quot;">â€‹</a></h4><ul><li><code>*</code>ï¼ˆåŠä»¥ä¸Šï¼‰ï¼šç›¸å½“äºæ­£åˆ™ <code>/[a-z]*/</code>ï¼ˆå³åè®®é‡Œé¢çš„ 0 æˆ–ä»»æ„å¤šä¸ªå­—ç¬¦ï¼‰</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ul><li><code>http*://www.example.com</code>ï¼šåŒ¹é… <code>http://www.example.com</code> å’Œ <code>https://www.example.com:8080</code></li></ul><h2 id="è·¯å¾„åŒ¹é…" tabindex="-1">è·¯å¾„åŒ¹é… <a class="header-anchor" href="#è·¯å¾„åŒ¹é…" aria-label="Permalink to &quot;è·¯å¾„åŒ¹é…&quot;">â€‹</a></h2><p>URL è·¯å¾„ç»“æ„ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[[schema:]//]domain[:port]/path?query</span></span></code></pre></div><p><strong>ç¤ºä¾‹</strong>ï¼š<code>https://www.example.com/data/test/result?q=123</code></p><h3 id="åŒ¹é…æ ¼å¼-1" tabindex="-1">åŒ¹é…æ ¼å¼ <a class="header-anchor" href="#åŒ¹é…æ ¼å¼-1" aria-label="Permalink to &quot;åŒ¹é…æ ¼å¼&quot;">â€‹</a></h3><h4 id="_1-æ— åè®®è·¯å¾„-å¯ä»¥åŒ¹é…ä»»ä½•åè®®" tabindex="-1">1. æ— åè®®è·¯å¾„ï¼ˆå¯ä»¥åŒ¹é…ä»»ä½•åè®®ï¼‰ <a class="header-anchor" href="#_1-æ— åè®®è·¯å¾„-å¯ä»¥åŒ¹é…ä»»ä½•åè®®" aria-label="Permalink to &quot;1. æ— åè®®è·¯å¾„ï¼ˆå¯ä»¥åŒ¹é…ä»»ä½•åè®®ï¼‰&quot;">â€‹</a></h4><ul><li><code>www.example.com[:port]/[path/to[?query]]</code></li><li><code>//www.example.com[:port]/[path/to[?query]]</code></li></ul><h4 id="_2-å¸¦åè®®è·¯å¾„-åŒ¹é…æŒ‡å®šåè®®çš„è¯·æ±‚" tabindex="-1">2. å¸¦åè®®è·¯å¾„ï¼ˆåŒ¹é…æŒ‡å®šåè®®çš„è¯·æ±‚ï¼‰ <a class="header-anchor" href="#_2-å¸¦åè®®è·¯å¾„-åŒ¹é…æŒ‡å®šåè®®çš„è¯·æ±‚" aria-label="Permalink to &quot;2. å¸¦åè®®è·¯å¾„ï¼ˆåŒ¹é…æŒ‡å®šåè®®çš„è¯·æ±‚ï¼‰&quot;">â€‹</a></h4><ul><li><code>ws[s]://www.example.com[:port]/[path/to[?query]]</code></li><li><code>http[s]://www.example.com[:port]/[path/to[?query]]</code></li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šTUNNEL è¯·æ±‚æ²¡æœ‰è·¯å¾„ã€‚</p></blockquote><h4 id="_3-å¸¦é€šé…ç¬¦" tabindex="-1">3. å¸¦é€šé…ç¬¦ <a class="header-anchor" href="#_3-å¸¦é€šé…ç¬¦" aria-label="Permalink to &quot;3. å¸¦é€šé…ç¬¦&quot;">â€‹</a></h4><ul><li><code>ws*://*.example.com/path/to</code></li><li><code>http*[s]*://www.example*.com:8*/path/to</code></li></ul><h2 id="åŒ¹é…æœºåˆ¶è¯¦è§£" tabindex="-1">åŒ¹é…æœºåˆ¶è¯¦è§£ <a class="header-anchor" href="#åŒ¹é…æœºåˆ¶è¯¦è§£" aria-label="Permalink to &quot;åŒ¹é…æœºåˆ¶è¯¦è§£&quot;">â€‹</a></h2><h4 id="åŸºç¡€è·¯å¾„åŒ¹é…" tabindex="-1">åŸºç¡€è·¯å¾„åŒ¹é… <a class="header-anchor" href="#åŸºç¡€è·¯å¾„åŒ¹é…" aria-label="Permalink to &quot;åŸºç¡€è·¯å¾„åŒ¹é…&quot;">â€‹</a></h4><p>åŒ¹é…æŒ‡å®šä¸»æœºå’Œè·¯å¾„åŠå…¶æ‰€æœ‰å­è·¯å¾„ï¼Œæ”¯æŒå¤šç§åè®®ï¼š</p><p><strong>åè®®æ”¯æŒ</strong>ï¼š</p><ul><li><code>http://</code> / <code>https://</code>ï¼ˆHTTP/HTTPSï¼‰</li><li><code>tunnel://</code>ï¼ˆéš§é“ä»£ç†ï¼‰</li><li><code>ws://</code> / <code>wss://</code>ï¼ˆWebSocketè¿æ¥ï¼‰</li></ul><p><strong>è·¯å¾„åŒ¹é…è§„åˆ™</strong>ï¼š åŒ¹é… <code>www.example.com/path</code> åŠå…¶æ‰€æœ‰å­è·¯å¾„ï¼š</p><ul><li>âœ… <code>www.example.com/path</code></li><li>âœ… <code>www.example.com/path/</code></li><li>âœ… <code>www.example.com/path/subfolder</code></li><li>âœ… <code>www.example.com/path/file.html</code></li><li>âœ… <code>www.example.com/path/subfolder/file?query=1</code></li><li>âŒ <code>www.example.com/path-other</code>ï¼ˆä¸ä»¥ <code>/path</code> å¼€å¤´ï¼‰</li><li>âŒ <code>www.example.com/path123</code>ï¼ˆä¸æ˜¯ <code>/path</code> çš„ç²¾ç¡®å‰ç¼€ï¼‰</li></ul><h4 id="é€šé…ç¬¦åŒ¹é…ç¤ºä¾‹" tabindex="-1">é€šé…ç¬¦åŒ¹é…ç¤ºä¾‹ <a class="header-anchor" href="#é€šé…ç¬¦åŒ¹é…ç¤ºä¾‹" aria-label="Permalink to &quot;é€šé…ç¬¦åŒ¹é…ç¤ºä¾‹&quot;">â€‹</a></h4><p>è§„åˆ™ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example*.com/path/to www.test.com/test</span></span></code></pre></div><p><strong>åŒ¹é…åœºæ™¯</strong>ï¼š</p><ul><li><code>https://www.example123.com/path/to?query=abc</code> â†’ æ˜ å°„ä¸º <code>https://www.test.com/test?query=abc</code></li><li><code>https://www.example123.com/path/to/subpage</code> â†’ æ˜ å°„ä¸º <code>https://www.test.com/test/subpage</code></li><li><code>wss://www.example456.com/path/to/api</code> â†’ æ˜ å°„ä¸º <code>wss://www.test.com/test/api</code></li></ul><p><strong>ä¸åŒ¹é…åœºæ™¯</strong>ï¼š</p><ul><li><code>https://www.example123.com/path/to123</code>ï¼ˆè·¯å¾„ä¸ä»¥ <code>/to</code> ç»“å°¾ï¼‰</li><li><code>https://example123.com/path/to</code>ï¼ˆç¼ºå°‘ www å‰ç¼€ï¼‰</li><li><code>https://www.example123.com/path</code>ï¼ˆè·¯å¾„ä¸å®Œæ•´ï¼‰</li></ul><h4 id="å¸¦æŸ¥è¯¢å‚æ•°çš„ç²¾ç¡®åŒ¹é…" tabindex="-1"><strong>å¸¦æŸ¥è¯¢å‚æ•°çš„ç²¾ç¡®åŒ¹é…</strong> <a class="header-anchor" href="#å¸¦æŸ¥è¯¢å‚æ•°çš„ç²¾ç¡®åŒ¹é…" aria-label="Permalink to &quot;**å¸¦æŸ¥è¯¢å‚æ•°çš„ç²¾ç¡®åŒ¹é…**&quot;">â€‹</a></h4><p>è§„åˆ™ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.demo*.com/path/to?name= www.test.com/test</span></span></code></pre></div><p><strong>è§„åˆ™è¯´æ˜</strong>ï¼š</p><ul><li>è·¯å¾„å¿…é¡»ç²¾ç¡®åŒ¹é… <code>/path/to</code></li><li>å¿…é¡»åŒ…å« <code>name=</code> æŸ¥è¯¢å‚æ•°ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</li><li>åŒ¹é…åç§»é™¤ <code>name=</code> å‚æ•°ï¼Œä¿ç•™å…¶ä»–å‚æ•°</li></ul><p><strong>åŒ¹é…åœºæ™¯</strong>ï¼š</p><ul><li><code>https://www.demo.com/path/to?name=john&amp;age=20</code> â†’ æ˜ å°„ä¸º <code>https://www.test.com/test?age=20</code></li><li><code>https://www.demo.com/path/to?name=&amp;sort=asc</code> â†’ æ˜ å°„ä¸º <code>https://www.test.com/test?sort=asc</code></li></ul><p><strong>ä¸åŒ¹é…åœºæ™¯</strong>ï¼š</p><ul><li><code>https://www.demo.com/path/to/extra?name=john</code>ï¼ˆè·¯å¾„ä¸ç²¾ç¡®ï¼‰</li><li><code>https://www.demo.com/path/to?Name=john</code>ï¼ˆå‚æ•°åå¤§å°å†™ä¸åŒ¹é…ï¼‰</li><li><code>https://www.demo.com/path/to?user=john</code>ï¼ˆç¼ºå°‘ name å‚æ•°ï¼‰</li></ul><h2 id="è·¯å¾„é€šé…ç¬¦åŒ¹é…" tabindex="-1">è·¯å¾„é€šé…ç¬¦åŒ¹é… <a class="header-anchor" href="#è·¯å¾„é€šé…ç¬¦åŒ¹é…" aria-label="Permalink to &quot;è·¯å¾„é€šé…ç¬¦åŒ¹é…&quot;">â€‹</a></h2><p>ç”±äº <code>*</code> æ˜¯åˆæ³•çš„ URL è·¯å¾„å­—ç¬¦ï¼Œå½“éœ€è¦å°†å…¶ä½œä¸ºé€šé…ç¬¦ä½¿ç”¨æ—¶ï¼Œåœ¨è¡¨è¾¾å¼å‰é¢åŠ  <code>^</code> æ˜¾å¼å£°æ˜ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^[[schema:]//]domain[:port]/pa**th?qu*ery</span></span></code></pre></div><p><strong>ç¤ºä¾‹</strong>ï¼š<code>^http*://**.example.com/data/*/result?q=*23</code></p><p>Whistle å†…éƒ¨ä¼šå°†é€šé…ç¬¦è·¯å¾„è½¬æ¢æˆå¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶è½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š</p><h3 id="_1-åè®®ã€åŸŸåã€ç«¯å£éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™" tabindex="-1">1. åè®®ã€åŸŸåã€ç«¯å£éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™ <a class="header-anchor" href="#_1-åè®®ã€åŸŸåã€ç«¯å£éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™" aria-label="Permalink to &quot;1. åè®®ã€åŸŸåã€ç«¯å£éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™&quot;">â€‹</a></h3><p>åŒä¸Šé¢çš„åŸŸååŒ¹é…ã€‚</p><h3 id="_2-è·¯å¾„éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™" tabindex="-1">2. è·¯å¾„éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™ <a class="header-anchor" href="#_2-è·¯å¾„éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™" aria-label="Permalink to &quot;2. è·¯å¾„éƒ¨åˆ†é€šé…ç¬¦è§„åˆ™&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">é€šé…ç¬¦</th><th style="text-align:left;">æ­£åˆ™ç­‰ä»·</th><th style="text-align:left;">åŒ¹é…èŒƒå›´</th><th style="text-align:left;">ç¤ºä¾‹</th></tr></thead><tbody><tr><td style="text-align:left;"><code>*</code></td><td style="text-align:left;"><code>/[^?/]*/</code></td><td style="text-align:left;">å•çº§è·¯å¾„ï¼ˆä¸å« <code>/</code> å’Œ <code>?</code>ï¼‰</td><td style="text-align:left;"><code>^.../*/*.js</code> â†’ <code>.../a/b.js</code></td></tr><tr><td style="text-align:left;"><code>**</code></td><td style="text-align:left;"><code>/[^?]*/</code></td><td style="text-align:left;">å¤šçº§è·¯å¾„ï¼ˆä¸å« <code>?</code>ï¼‰</td><td style="text-align:left;"><code>^.../**file</code> â†’ <code>.../a/b/c/test-file</code></td></tr><tr><td style="text-align:left;"><code>***</code></td><td style="text-align:left;"><code>/.*/</code></td><td style="text-align:left;">ä»»æ„å­—ç¬¦ï¼ˆå« <code>/</code> å’Œ <code>?</code>ï¼‰</td><td style="text-align:left;"><code>^.../data/***file</code> â†’ <code>.../a/b/c?test=file</code></td></tr></tbody></table><h3 id="_3-æŸ¥è¯¢å‚æ•°é€šé…ç¬¦è§„åˆ™" tabindex="-1">3. æŸ¥è¯¢å‚æ•°é€šé…ç¬¦è§„åˆ™ <a class="header-anchor" href="#_3-æŸ¥è¯¢å‚æ•°é€šé…ç¬¦è§„åˆ™" aria-label="Permalink to &quot;3. æŸ¥è¯¢å‚æ•°é€šé…ç¬¦è§„åˆ™&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">é€šé…ç¬¦</th><th style="text-align:left;">æ­£åˆ™ç­‰ä»·</th><th style="text-align:left;">åŒ¹é…èŒƒå›´</th><th style="text-align:left;">ç¤ºä¾‹</th></tr></thead><tbody><tr><td style="text-align:left;"><code>*</code></td><td style="text-align:left;"><code>/[^&amp;]*/</code></td><td style="text-align:left;">å•å‚æ•°å€¼ï¼ˆä¸å« <code>&amp;</code>ï¼‰</td><td style="text-align:left;"><code>^...?q=*123</code> â†’ <code>...?q=abc123</code></td></tr><tr><td style="text-align:left;"><code>**</code></td><td style="text-align:left;"><code>/.*/</code></td><td style="text-align:left;">ä»»æ„å­—ç¬¦ï¼ˆå« <code>&amp;</code>ï¼‰</td><td style="text-align:left;"><code>^...?q=**123</code> â†’ <code>...?q=abc&amp;test=123</code></td></tr></tbody></table><blockquote><p><strong>è®°å¿†è¦ç‚¹</strong>ï¼šä¸»è¦è®°ä½ <code>*</code>ã€<code>**</code>ã€<code>***</code> ä¸‰ç§é€šé…ç¬¦çš„åŒ¹é…èŒƒå›´ã€‚</p></blockquote><h2 id="æ­£åˆ™åŒ¹é…" tabindex="-1">æ­£åˆ™åŒ¹é… <a class="header-anchor" href="#æ­£åˆ™åŒ¹é…" aria-label="Permalink to &quot;æ­£åˆ™åŒ¹é…&quot;">â€‹</a></h2><p>é™¤ç®€å•åŒ¹é…è§„åˆ™å¤–ï¼ŒWhistle æä¾›å®Œæ•´çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œè¯­æ³•ä¸ JavaScript æ­£åˆ™å®Œå…¨å…¼å®¹ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/pattern/[flags]</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>pattern</code>ï¼šæ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“</li><li><code>flags</code>ï¼šåŒ¹é…æ¨¡å¼ä¿®é¥°ç¬¦ï¼ˆå¯é€‰ï¼‰ï¼Œæ”¯æŒï¼š <ul><li><code>i</code>ï¼šå¿½ç•¥å¤§å°å†™ï¼Œå¦‚ <code>/abc/i</code> åŒ¹é… &quot;AbC&quot;</li><li><code>u</code>ï¼šå¯ç”¨ Unicode æ”¯æŒï¼Œå¦‚ <code>/\\p{Emoji}/u</code> åŒ¹é… &quot;ğŸ˜€&quot;</li></ul></li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/\\.test\\./          # åŒ¹é… &quot;.test.&quot;</span></span>
<span class="line"><span>/key=value/i        # å¿½ç•¥å¤§å°å†™åŒ¹é… &quot;key=value&quot;</span></span>
<span class="line"><span>/\\/statics\\//ui     # Unicode æ¨¡å¼åŒ¹é… &quot;/statics/&quot;</span></span></code></pre></div><h2 id="å­åŒ¹é…ä¼ å€¼" tabindex="-1">å­åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#å­åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;å­åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h2><p>åœ¨ Whistle çš„è§„åˆ™é…ç½®ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>$0</code>ã€<code>$1</code> è‡³ <code>$9</code> å¼•ç”¨é€šé…ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­åŒ¹é…å†…å®¹ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ°æ“ä½œå€¼ä¸­ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern protocol://$0_$1_$2_..._$1</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><strong>$0</strong>ï¼šå®Œæ•´åŒ¹é…ç»“æœ</li><li><strong>$1 - $9</strong>ï¼šå¯¹åº”æ•è·ç»„çš„å†…å®¹</li></ul><h3 id="é€šé…ç¬¦åŒ¹é…ä¼ å€¼" tabindex="-1">é€šé…ç¬¦åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#é€šé…ç¬¦åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;é€šé…ç¬¦åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^http://*.example.com/v0/users/** file:///User/xxx/$1/$2</span></span></code></pre></div><p><strong>åŒ¹é…ç¤ºä¾‹</strong>ï¼š</p><ul><li>è¯·æ±‚ URLï¼š<code>http://www.example.com/v2/users/alice/test.html?q=1</code></li><li>ä¼ å€¼ç»“æœï¼š <ul><li><code>$1</code> = <code>www</code></li><li><code>$2</code> = <code>users/alice</code></li></ul></li><li>æœ€ç»ˆæ›¿æ¢ï¼šæœ¬åœ°æ–‡ä»¶ <code>/User/xxx/www/alice/test.html</code> çš„å†…å®¹</li></ul><h3 id="æ­£åˆ™åŒ¹é…ä¼ å€¼" tabindex="-1">æ­£åˆ™åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#æ­£åˆ™åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;æ­£åˆ™åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/regexp\\/(user|admin)\\/(\\d+)/ reqHeaders://X-Type=$1&amp;X-ID=$2</span></span></code></pre></div><p><strong>åŒ¹é…ç¤ºä¾‹</strong>ï¼š</p><ul><li>è¯·æ±‚ URLï¼š<code>.../regexp/admin/123</code></li><li>ä¼ å€¼ç»“æœï¼š <ul><li><code>$1</code> = <code>admin</code></li><li><code>$2</code> = <code>123</code></li></ul></li><li>æœ€ç»ˆæ•ˆæœï¼šæ·»åŠ è¯·æ±‚å¤´ <code>X-Type: admin</code> å’Œ <code>X-ID: 123</code></li></ul><h2 id="ç‰¹æ®Šè¯´æ˜" tabindex="-1">ç‰¹æ®Šè¯´æ˜ <a class="header-anchor" href="#ç‰¹æ®Šè¯´æ˜" aria-label="Permalink to &quot;ç‰¹æ®Šè¯´æ˜&quot;">â€‹</a></h2><p>åŸŸååŒ¹é…å’Œè·¯å¾„åŒ¹é…åœ¨æ˜ å°„æœ¬åœ°æ–‡ä»¶/ç›®å½•è·¯å¾„æˆ–è¿œç¨‹æ–° URL æ—¶ä¼šè‡ªåŠ¨æ‹¼æ¥è·¯å¾„ï¼Œå³ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://*.example.com/path/to https://www.test.com/test</span></span>
<span class="line"><span></span></span>
<span class="line"><span>www.example.com file:///Usr/test</span></span></code></pre></div><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ul><li>è®¿é—® <code>https://abc.example.com/path/to/x/y/z?query</code> ä¼šè‡ªåŠ¨æ›¿æ¢æˆæ–° URLï¼š<code>https://www.test.com/test/x/y/z?query</code></li><li>è®¿é—® <code>https://wwww.example.com/path/to/index.html?query</code> ä¼šè‡ªåŠ¨æ›¿æ¢æˆæœ¬åœ°æ–‡ä»¶ï¼š<code>https://www.test.com/path/to/index.html</code>ï¼ˆè‡ªåŠ¨å»æ‰ <code>query</code>ï¼‰</li></ul><h2 id="é…ç½®ç¤ºä¾‹" tabindex="-1">é…ç½®ç¤ºä¾‹ <a class="header-anchor" href="#é…ç½®ç¤ºä¾‹" aria-label="Permalink to &quot;é…ç½®ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="åŸºç¡€åŒ¹é…" tabindex="-1">åŸºç¡€åŒ¹é… <a class="header-anchor" href="#åŸºç¡€åŒ¹é…" aria-label="Permalink to &quot;åŸºç¡€åŒ¹é…&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># ç²¾ç¡®åŸŸååŒ¹é…</span></span>
<span class="line"><span>api.example.com proxy://127.0.0.1:3000</span></span>
<span class="line"><span></span></span>
<span class="line"><span># ç«¯å£ç‰¹å®šåŒ¹é…</span></span>
<span class="line"><span>www.example.com:8080 file:///local/dev</span></span>
<span class="line"><span></span></span>
<span class="line"><span># è·¯å¾„åŒ¹é…</span></span>
<span class="line"><span>www.example.com/api/users file://{user-data}</span></span></code></pre></div><h3 id="é€šé…ç¬¦åŒ¹é…" tabindex="-1">é€šé…ç¬¦åŒ¹é… <a class="header-anchor" href="#é€šé…ç¬¦åŒ¹é…" aria-label="Permalink to &quot;é€šé…ç¬¦åŒ¹é…&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># åŒ¹é…æ‰€æœ‰å­åŸŸå</span></span>
<span class="line"><span>**.example.com proxy://127.0.0.1:8080</span></span>
<span class="line"><span></span></span>
<span class="line"><span># åŒ¹é…ç‰¹å®šå‰ç¼€çš„å­åŸŸå</span></span>
<span class="line"><span>dev-**.example.com file:///(dev-mock)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># åŒ¹é…æ‰€æœ‰ HTTP/HTTPS è¯·æ±‚</span></span>
<span class="line"><span>http*://www.example.com  cache://3600</span></span></code></pre></div><h3 id="æ­£åˆ™åŒ¹é…-1" tabindex="-1">æ­£åˆ™åŒ¹é… <a class="header-anchor" href="#æ­£åˆ™åŒ¹é…-1" aria-label="Permalink to &quot;æ­£åˆ™åŒ¹é…&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># åŒ¹é…æ•°å­— ID çš„ç”¨æˆ·é¡µé¢</span></span>
<span class="line"><span>/^https?://www\\.example\\.com/user/(\\d+)/ file://(user-$1)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># å¿½ç•¥å¤§å°å†™åŒ¹é…ç‰¹å®šè·¯å¾„</span></span>
<span class="line"><span>/\\/api\\/v1\\/data/i resBody://({&quot;version&quot;:&quot;v1&quot;})</span></span>
<span class="line"><span></span></span>
<span class="line"><span># åŒ¹é…é™æ€èµ„æºæ–‡ä»¶</span></span>
<span class="line"><span>/\\.(jpg|png|gif|css|js)$/i cache://86400</span></span></code></pre></div><h3 id="å¤æ‚åŒ¹é…" tabindex="-1">å¤æ‚åŒ¹é… <a class="header-anchor" href="#å¤æ‚åŒ¹é…" aria-label="Permalink to &quot;å¤æ‚åŒ¹é…&quot;">â€‹</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># ç»„åˆé€šé…ç¬¦å’Œè·¯å¾„</span></span>
<span class="line"><span>^https://**.example.com/api/*/v*/users reqHeaders://x-api-version=$3</span></span>
<span class="line"><span></span></span>
<span class="line"><span># å¤šæ¡ä»¶åŒ¹é…</span></span>
<span class="line"><span>www.example.com/api file://({&quot;status&quot;:&quot;ok&quot;}) includeFilter://m:GET</span></span>
<span class="line"><span>www.example.com/api file://({&quot;status&quot;:&quot;created&quot;}) includeFilter://m:POST</span></span></code></pre></div><h2 id="æ•…éšœæ’é™¤" tabindex="-1">æ•…éšœæ’é™¤ <a class="header-anchor" href="#æ•…éšœæ’é™¤" aria-label="Permalink to &quot;æ•…éšœæ’é™¤&quot;">â€‹</a></h2><h3 id="q-è§„åˆ™æ²¡æœ‰åŒ¹é…åˆ°è¯·æ±‚" tabindex="-1">Q: è§„åˆ™æ²¡æœ‰åŒ¹é…åˆ°è¯·æ±‚ <a class="header-anchor" href="#q-è§„åˆ™æ²¡æœ‰åŒ¹é…åˆ°è¯·æ±‚" aria-label="Permalink to &quot;Q: è§„åˆ™æ²¡æœ‰åŒ¹é…åˆ°è¯·æ±‚&quot;">â€‹</a></h3><p><strong>A:</strong> æ£€æŸ¥ï¼š</p><ol><li>URL æ ¼å¼æ˜¯å¦æ­£ç¡®</li><li>æ˜¯å¦åŒ…å«æ­£ç¡®çš„åè®®å’Œç«¯å£</li><li>é€šé…ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦æ­£ç¡®</li><li>æ˜¯å¦æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è§„åˆ™è¦†ç›–</li></ol><h3 id="q-æ­£åˆ™è¡¨è¾¾å¼ä¸ç”Ÿæ•ˆ" tabindex="-1">Q: æ­£åˆ™è¡¨è¾¾å¼ä¸ç”Ÿæ•ˆ <a class="header-anchor" href="#q-æ­£åˆ™è¡¨è¾¾å¼ä¸ç”Ÿæ•ˆ" aria-label="Permalink to &quot;Q: æ­£åˆ™è¡¨è¾¾å¼ä¸ç”Ÿæ•ˆ&quot;">â€‹</a></h3><p><strong>A:</strong> æ£€æŸ¥ï¼š</p><ol><li>æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•æ˜¯å¦æ­£ç¡®</li><li>æ˜¯å¦éœ€è¦å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰</li><li>åŒ¹é…æ¨¡å¼æ ‡å¿—æ˜¯å¦æ­£ç¡®è®¾ç½®</li></ol><h3 id="q-å­åŒ¹é…ä¼ å€¼é”™è¯¯" tabindex="-1">Q: å­åŒ¹é…ä¼ å€¼é”™è¯¯ <a class="header-anchor" href="#q-å­åŒ¹é…ä¼ å€¼é”™è¯¯" aria-label="Permalink to &quot;Q: å­åŒ¹é…ä¼ å€¼é”™è¯¯&quot;">â€‹</a></h3><p><strong>A:</strong> æ£€æŸ¥ï¼š</p><ol><li>æ•è·ç»„ç¼–å·æ˜¯å¦æ­£ç¡®</li><li>é€šé…ç¬¦åŒ¹é…æ˜¯å¦æ­£ç¡®æ•è·äº†é¢„æœŸå†…å®¹</li><li>æ­£åˆ™è¡¨è¾¾å¼æ•è·ç»„æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ</li></ol><h2 id="æ‰©å±•é˜…è¯»" tabindex="-1">æ‰©å±•é˜…è¯» <a class="header-anchor" href="#æ‰©å±•é˜…è¯»" aria-label="Permalink to &quot;æ‰©å±•é˜…è¯»&quot;">â€‹</a></h2><ul><li><a href="./rule.html">è§„åˆ™è¯­æ³•æ–‡æ¡£</a>ï¼šäº†è§£å®Œæ•´çš„è§„åˆ™è¯­æ³•ç»“æ„</li><li><a href="./operation.html">æ“ä½œæŒ‡ä»¤æ–‡æ¡£</a>ï¼šå­¦ä¹ å¦‚ä½•é…ç½®æ“ä½œæŒ‡ä»¤</li><li><a href="./filters.html">è¿‡æ»¤å™¨æ–‡æ¡£</a>ï¼šäº†è§£å¦‚ä½•ç²¾ç¡®æ§åˆ¶è§„åˆ™ç”Ÿæ•ˆæ¡ä»¶</li></ul>`,119)]))}const u=t(s,[["render",d]]);export{m as __pageData,u as default};
