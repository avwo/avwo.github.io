import{_ as a,c as t,o as e,ae as i}from"./chunks/framework.Dgg8-8ov.js";const k=JSON.parse('{"title":"tlsOptions","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/rules/cipher.md","filePath":"en/docs/rules/cipher.md"}'),n={name:"en/docs/rules/cipher.md"};function p(l,s,o,r,h,c){return e(),t("div",null,s[0]||(s[0]=[i(`<h1 id="tlsoptions" tabindex="-1">tlsOptions <a class="header-anchor" href="#tlsoptions" aria-label="Permalink to &quot;tlsOptions&quot;">​</a></h1><p>Configure the security parameters for HTTPS/TLS connections, used to establish encrypted communication channels and server authentication.</p><blockquote><p>Only the latest version of Whistle (≥ v2.9.101) supports this feature.</p></blockquote><h2 id="rule-syntax" tabindex="-1">Rule Syntax <a class="header-anchor" href="#rule-syntax" aria-label="Permalink to &quot;Rule Syntax&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern tlsOptions://value [filters...]</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Parameters</th><th>Description</th><th>Detailed Documentation</th></tr></thead><tbody><tr><td>pattern</td><td>Expression to match request URLs</td><td><a href="./pattern.html">Match Pattern Documentation</a></td></tr><tr><td>value</td><td>Operation data object or cipher suite name, supported from the following sources:<br>• Directory/file path<br>• Remote URL<br>• Inline/embedded/Values content</td><td><a href="./operation.html">Operation Instruction Documentation</a></td></tr><tr><td>filters</td><td>Optional filters, supported for matching:<br>• Request URL/method/header/content<br>• Response status code/header</td><td><a href="./filters.html">Filters Documentation</a></td></tr></tbody></table><p>tlsOptions Operation Object Structure:</p><ol><li>Cipher Suite Name<div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ECDHE-ECDSA-AES256-GCM-SHA384:DH-RSA-AES256-GCM-SHA384</span></span></code></pre></div><blockquote><p>Multiple suites are separated by <code>:</code></p></blockquote></li><li><code>tls.connect(options)</code> Parameters<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ciphers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  secureProtocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  maxVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  minVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  honorCipherOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: boolean</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ca</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  allowPartialTrustChain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sessionIdContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sigalgs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dhparam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ecdhCurve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  secureOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sessionTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  base</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: public path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> the certificate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  passphrase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: key content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a pfx certificate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pfx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: certificate content or local uuid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>See: <a href="https://nodejs.org/docs/latest/api/tls.html#tlscreatesecurecontextoptions" target="_blank" rel="noreferrer">https://nodejs.org/docs/latest/api/tls.html#tlscreatesecurecontextoptions</a></p></blockquote></li></ol><h2 id="custom-cipher-suites" tabindex="-1">Custom Cipher Suites <a class="header-anchor" href="#custom-cipher-suites" aria-label="Permalink to &quot;Custom Cipher Suites&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example.com/path tlsOptions://ECDHE-ECDSA-AES256-GCM-SHA384:DH-RSA-AES256-GCM-SHA384</span></span></code></pre></div><blockquote><p>General manual configuration, see: <a href="https://github.com/avwo/whistle/issues/963" target="_blank" rel="noreferrer">https://github.com/avwo/whistle/issues/963</a></p></blockquote><h2 id="configuring-the-client-certificate" tabindex="-1">Configuring the Client Certificate <a class="header-anchor" href="#configuring-the-client-certificate" aria-label="Permalink to &quot;Configuring the Client Certificate&quot;">​</a></h2><p>Specify the client certificate for mutual authentication (mTLS) requests.</p><ol><li>cert format certificate<div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.exaple.com/path tlsOptions://key=/User/xxx/test.key&amp;cert=/User/xxx/test.crt</span></span></code></pre></div></li><li>pem format certificate<div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.exaple.com/path tlsOptions://key=E:\\test.pem&amp;cert=E:\\test.pem</span></span></code></pre></div></li><li>pfx format certificate<div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.exaple.com/path tlsOptions://passphrase=123456&amp;pfx=/User/xxx/test.pfx</span></span></code></pre></div></li><li>p12 format certificate<div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.exaple.com/path tlsOptions://passphrase=123456&amp;pfx=E:/test.p12</span></span></code></pre></div><blockquote><p>Windows paths can use a mix of <code>/</code> and <code>\\</code></p></blockquote></li></ol><h2 id="embedded-certificate-content" tabindex="-1">Embedded certificate content <a class="header-anchor" href="#embedded-certificate-content" aria-label="Permalink to &quot;Embedded certificate content&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Same for other certificate formats</span></span>
<span class="line"><span>\`\`\` test.json</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  key: &#39;----xxx----- ... ----xxx-----&#39;,</span></span>
<span class="line"><span>  cert: &#39;----yyy----- ... ----yyy-----&#39;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>www.exaple.com/path tlsOptions://{test.json}</span></span></code></pre></div><h2 id="local-remote-resource" tabindex="-1">Local/remote resource <a class="header-anchor" href="#local-remote-resource" aria-label="Permalink to &quot;Local/remote resource&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example.com/path1 tlsOptions:///User/xxx/test.json</span></span>
<span class="line"><span>www.example.com/path2 tlsOptions://https://www.xxx.com/xxx/params.json</span></span>
<span class="line"><span># Editing a temporary file</span></span>
<span class="line"><span>www.example.com/path3 tlsOptions://temp/blank.json</span></span></code></pre></div>`,18)]))}const u=a(n,[["render",p]]);export{k as __pageData,u as default};
