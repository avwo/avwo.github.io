import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.Bw-5EFTY.js";const F=JSON.parse('{"title":"Command Line Operations","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/cli.md","filePath":"en/docs/cli.md"}'),e={name:"en/docs/cli.md"};function l(h,s,p,k,r,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="command-line-operations" tabindex="-1">Command Line Operations <a class="header-anchor" href="#command-line-operations" aria-label="Permalink to &quot;Command Line Operations&quot;">​</a></h1><p>Whistle supports the following command line operations. To view the full command line functionality, execute the command: <code>w2 -h</code>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> w2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">comman</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Commands:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      Display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> local</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (.whistle.js </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ca</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Manage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certificates</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Whistle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Whistle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Execute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> front</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> background</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> background</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> background</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> information</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Options:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -h,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                      output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> information</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -D,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --baseDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [baseDir]                         set storage root path</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -z,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --certDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [directory]                       set custom certificate directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -l,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --localUIHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [hostname]                    set web UI domain (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">local.whistlejs.com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -L,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --pluginHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [hostname]                     set plugin UI domains  (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">as:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;script=a.b.com&amp;vase=x.y.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -n,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [username]                       set web UI username</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -w,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [password]                       set web UI password</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -N,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --guestName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [username]                      set web UI guest username (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read-only</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -W,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --guestPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [password]                  set web UI guest password (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read-only</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -s,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sockets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [number]                          set max cached connections per domain (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -S,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --storage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [newStorageDir]                   set configuration storage directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -C,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [storageDir]                         copy configuration from specified directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -c,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dnsCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [time]                           set DNS cache </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 60000ms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -H,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [boundHost]                          set bound host (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> INADDR_ANY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -p,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [proxyPort]                          set proxy port (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8899</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -P,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --uiport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [uiport]                           set web UI port</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -m,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --middlewares</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [script </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> startup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> middlewares</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (format: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xx,yy/zz.js</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -M,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [mode]                               set startup mode (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">options:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pureProxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multiEnv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">capture</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disableH2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">network</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rules</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -t,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ms]                              set request timeout (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 360000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -e,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --extra</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [extraData]                         set plugin extra parameters</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -f,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --secureFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [secureFilter]               set secure filter path</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -r,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --shadowRules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [shadowRules]                 set default shadow rules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -R,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --reqCacheSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [reqCacheSize]               set request data cache size (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -F,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --frameCacheSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [frameCacheSize]           set WebSocket frame cache size (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -A,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --addon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [pluginPaths]                       add custom plugin paths</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [bypass]                                 auto configure proxy and install Root CA</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --cluster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [workers]                             start cluster with worker count (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CPU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cores</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [config]                               load startup config from file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --rcPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [rcPath]                               load configuration from file (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ～/.whistlerc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --dnsServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [dnsServer]                         set custom DNS servers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --socksPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [socksPort]                         set SOCKSv5 server port</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --httpPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [httpPort]                           set HTTP server port</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --httpsPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [httpsPort]                         set HTTPS server port</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --allowOrigin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [originList]                      set allowed CORS origins (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a.b.c,x.y.z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --no-global-plugins</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                             disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --no-prev-options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                               ignore</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> previous</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --inspect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[host:]port]                         enable inspector (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 127.0.0.1:9229</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --inspectBrk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[host:]port]                      enable inspector with breakpoint (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 127.0.0.1:9229</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -V,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                   output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> number</span></span></code></pre></div><h2 id="w2-start" tabindex="-1">w2 start <a class="header-anchor" href="#w2-start" aria-label="Permalink to &quot;w2 start&quot;">​</a></h2><ol><li><code>w2 start</code>: Starts Whistle and uses the default storage directory.</li><li><code>w2 start -p 8100</code>: Starts Whistle on the specified port (default is <code>8899</code>).</li><li><code>w2 start --httpsPort 8001</code>: Starts Whistle and enables the HTTPS proxy port.</li><li><code>w2 start --socksPort 1080</code>: Starts Whistle and enables the SOCKSv5 proxy port.</li><li><code>w2 start -S storageName</code>: Starts Whistle on the specified storage directory (uppercase <code>S</code>).</li></ol><blockquote><p><code>storageName</code> should be a plain directory name (not a full path). For multiple instances, the following requirements must be met:</p><ul><li>Use a separate directory for each instance.</li><li>Configure different listening ports.</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8100</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storageName2</span></span></code></pre></div></blockquote><h2 id="w2-restart" tabindex="-1">w2 restart <a class="header-anchor" href="#w2-restart" aria-label="Permalink to &quot;w2 restart&quot;">​</a></h2><ol><li><code>w2 restart</code>: Restarts Whistle.</li></ol><ul><li>If there&#39;s no Whistle instance running for the corresponding port and storage directory, it will be started.</li><li>If there&#39;s a Whistle instance running for the corresponding port and storage directory, it will be shut down before starting.</li></ul><ol start="2"><li><code>w2 restart --no-prev-options</code>: Equivalent to <code>w2 stop &amp;&amp; w2 start</code></li><li><code>w2 restart -p 8100</code>: Restarts and changes the port number.</li><li><code>w2 startrestartt --httpsPort 8001</code>: Restarts and enables the HTTPS proxy port.</li><li><code>w2 restart --socksPort 1080</code>: Restarts and enables the SOCKSv5 proxy port.</li><li><code>w2 restart -S storageName</code>: Restarts the Whistle instance for the specified storage directory.</li></ol><h2 id="w2-stop" tabindex="-1">w2 stop <a class="header-anchor" href="#w2-stop" aria-label="Permalink to &quot;w2 stop&quot;">​</a></h2><ol><li><code>w2 stop</code>: Stops Whistle for the default storage directory.</li><li><code>w2 stop -S storageName</code>: Stops Whistle for the specified storage directory.</li></ol><blockquote><p>You can use <code>w2 status --all</code> to view the Whistle instances currently running in the background. Example</p></blockquote><h2 id="w2-status" tabindex="-1">w2 status <a class="header-anchor" href="#w2-status" aria-label="Permalink to &quot;w2 status&quot;">​</a></h2><ol><li>Output all Whistle instances currently running in the command line background: <code>w2 status --all</code></li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[i] All running Whistle instances:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PID:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 51512,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Port:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8899</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PID:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 53951,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Port:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Storage:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8080</span></span></code></pre></div><ol start="2"><li>Output the default instance running in the command line background: <code>w2 status</code></li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] whistle@version is running</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[i] 1. Use your device to visit the following URL list and obtain the IP address of the URL you can access:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://127.0.0.1:8899/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.10.153:8899/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://10.211.55.2:8899/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://10.37.129.2:8899/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Note:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> If</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> URLs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inaccessible,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> see</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/avwo/whistle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[i] 2. Set the HTTP proxy on your device with the above IP &amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (8899)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[i] 3. Use Chrome to visit http://local.whistlejs.com/ to get started.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## w2 add</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add\`</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Execute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.whistle.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.whistle.mjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exported</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">optional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Rules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> interface.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add filepath\`</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Customize</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> executed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.whistle.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contents:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\`\` </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkg = require(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;./package.json&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exports.groupName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> = &#39;Project Development Environment&#39;; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Optional, set the group. Requires Whistle version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">= v2.9.21</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exports.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> = \`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[\${pkg.name}] Local Environment Configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exports.rules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> = \`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.example.com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://127.0.0.1:5566</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cgi live network</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.example.com/cgi-bin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ignore://http</span></span></code></pre></div><p>Or asynchronously obtain rules:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> assert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;assert&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./package.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">util</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // If you depend on a plugin, you can check for it.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  assert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(util.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">existsPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@scope/whistle.combo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> util.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">existsPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;whistle.combo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Please install the plugin first: w2 i whistle.combo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // You can also obtain rules remotely.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // do sth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`[\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}] Local Environment Configuration\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      test.example.com/combo whisle.combo://\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__dirname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dev&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      test.example.com http://127.0.0.1:5566</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      # Interface goes to the live network</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      test.example.com/cgi-bin ignore://http</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      \`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Whistle will check if a rule with the same name exists:</p><ul><li>If the rule does not exist or is empty: a new rule will be automatically created and enabled.</li><li>If the rule already exists and is not empty: the user will be prompted for confirmation to prevent accidental overwriting.</li><li>To force overwriting of existing rules, explicitly add the <code>--force</code> parameter:</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre></div><h2 id="w2-proxy" tabindex="-1">w2 proxy <a class="header-anchor" href="#w2-proxy" aria-label="Permalink to &quot;w2 proxy&quot;">​</a></h2><ol><li><code>w2 proxy</code>: Set the system proxy. <ul><li>IP: <code>127.0.0.1</code></li><li>Port: Whistle Running port. If Whistle is not running, use the default port 8899.</li></ul></li><li><code>w2 proxy 0</code>: Disable the system proxy.</li><li><code>w2 proxy 8100</code>: Set the system proxy. <ul><li>IP: <code>127.0.0.1</code></li><li>Port: <code>8100</code></li></ul></li><li><code>w2 proxy www.test.com:8100</code>: Set the system proxy. <ul><li>IP or domain: <code>www.test.com</code></li><li>Port: <code>8100</code></li></ul></li></ol><h2 id="w2-ca" tabindex="-1">w2 ca <a class="header-anchor" href="#w2-ca" aria-label="Permalink to &quot;w2 ca&quot;">​</a></h2><ol><li><code>w2 ca</code>: Install the local Whistle root certificate (this command is generally used to install the local Whistle root certificate).</li><li><code>w2 ca 8080</code>: Download and install the Whistle root certificate from the specified port (IP: <code>127.0.0.1</code>).</li><li><code>w2 ca www.test.com:8080</code>: Install Whistle for the specified port and IP (or domain). Certificate (can be used to install a remote Whistle root certificate)</li><li><code>w2 ca certUrl</code>: Downloads and installs the certificate from the specified URL</li><li><code>w2 ca localCertPath</code>: Installs the certificate from the specified local path</li></ol><h2 id="w2-install" tabindex="-1">w2 install <a class="header-anchor" href="#w2-install" aria-label="Permalink to &quot;w2 install&quot;">​</a></h2><ol><li><code>w2 install whistle.script</code>: Installs the plugin</li><li><code>w2 install whistle.script --registry=https://npm-registry</code>: Installs the plugin and specifies the npm registry</li></ol><p>Recommended UI installation: <a href="./extensions/usage.html">Use plugin</a></p><h2 id="w2-uninstall" tabindex="-1">w2 uninstall <a class="header-anchor" href="#w2-uninstall" aria-label="Permalink to &quot;w2 uninstall&quot;">​</a></h2><p><code>w2 uninstall whistle.script</code>: Uninstalls the specified plugin</p><p>Recommended UI uninstall: <a href="./extensions/usage.html">Use plugin</a></p><h2 id="w2-exec" tabindex="-1">w2 exec <a class="header-anchor" href="#w2-exec" aria-label="Permalink to &quot;w2 exec&quot;">​</a></h2><p><code>w2 exec xxx</code>: Executes the <code>bin</code> command configured in the plugin&#39;s package.json file (i.e., the executable script provided by the plugin).</p><blockquote><p>Suitable for plugin developers or when calling the plugin&#39;s CLI functionality.</p></blockquote><h2 id="w2-run" tabindex="-1">w2 run <a class="header-anchor" href="#w2-run" aria-label="Permalink to &quot;w2 run&quot;">​</a></h2><p><code>w2 run</code>: Starts Whistle in development and debugging mode, outputting plugin and system log information to the console in real time, automatically refreshing UI code changes, and supports all <code>w2 start</code> configuration options.</p><h2 id="starting-multiple-instances" tabindex="-1">Starting Multiple Instances <a class="header-anchor" href="#starting-multiple-instances" aria-label="Permalink to &quot;Starting Multiple Instances&quot;">​</a></h2><p>When running multiple instances simultaneously, each instance must be configured with <strong>different ports</strong> and <strong>independent storage directories</strong> to avoid resource conflicts.</p><h3 id="configuration-examples" tabindex="-1">Configuration Examples <a class="header-anchor" href="#configuration-examples" aria-label="Permalink to &quot;Configuration Examples&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Instance 1 - Port 8010, Storage directory 8010</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --storage</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Instance 2 - Port 8011, Storage directory 8011  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --storage</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Instance 3 - Port 8012, Storage directory 8012</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8012</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --storage</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8012</span></span></code></pre></div><h3 id="configuration-description" tabindex="-1">Configuration Description <a class="header-anchor" href="#configuration-description" aria-label="Permalink to &quot;Configuration Description&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Parameter</th><th>Purpose</th><th>Requirements</th></tr></thead><tbody><tr><td><code>--port</code></td><td>Service listening port</td><td>Must be unique, cannot be duplicated</td></tr><tr><td><code>--storage</code></td><td>Data storage directory</td><td>Must be unique to avoid data confusion</td></tr></tbody></table><h3 id="configuration-recommendations" tabindex="-1">Configuration Recommendations <a class="header-anchor" href="#configuration-recommendations" aria-label="Permalink to &quot;Configuration Recommendations&quot;">​</a></h3><p><strong>Recommended Configuration</strong>:</p><ul><li>Use the same numbering for ports and storage directories (for easier management)</li><li>Port number range: 8000-9000 (to avoid system port conflicts)</li></ul><p><strong>Configuration Examples</strong>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Recommended: Consistent port and storage directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Acceptable: Different port and storage directory (ensure uniqueness)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8020</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> instance_1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8021</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> instance_2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ❌ Error: Duplicate port or storage directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Port conflict!</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8011</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8010</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Storage directory conflict!</span></span></code></pre></div><h3 id="important-notes" tabindex="-1">Important Notes <a class="header-anchor" href="#important-notes" aria-label="Permalink to &quot;Important Notes&quot;">​</a></h3><ol><li><strong>Port Conflicts</strong>: Using the same port will cause instance startup failure</li><li><strong>Data Security</strong>: Sharing storage directories may cause data overwriting or corruption</li><li><strong>Resource Isolation</strong>: Each instance should have an independent runtime environment</li></ol><p>By assigning unique ports and storage directories to each instance, you can ensure stable parallel operation of multiple instances.</p><h1 id="whistlerc" tabindex="-1">Startup Configuration File <a class="header-anchor" href="#whistlerc" aria-label="Permalink to &quot;Startup Configuration File {#whistlerc}&quot;">​</a></h1><p>Whistle automatically loads the <code>~/.whistlerc</code> configuration file upon startup. You can manage configuration loading in the following ways:</p><ul><li><strong>Default Path:</strong> <code>~/.whistlerc</code></li><li><strong>Custom Path:</strong> Use the <code>--rcPath [rcPath]</code> parameter to specify a different configuration file</li><li><strong>Ignore Configuration:</strong> Use the <code>-rcPath none</code> parameter to completely ignore the configuration file</li></ul><p>The <code>.whistlerc</code> file uses a key-value pair format and supports multiple configuration scopes:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Global default configuration (applies when no storage is specified)</span></span>
<span class="line"><span>username=test</span></span>
<span class="line"><span>password=123</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Specific storage configuration (via command line storage parameter)</span></span>
<span class="line"><span>xxx.username=test-storage</span></span>
<span class="line"><span>xxx.password=123-storage</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Wildcard configuration (applies to all instances, lowest priority)</span></span>
<span class="line"><span>*.username=test-default</span></span>
<span class="line"><span>*.password=123-default</span></span></code></pre></div><ol><li><code>xxx</code> corresponds to the value of the startup parameter <code>--storage</code> (if no storage is specified, default configuration is used)</li><li><code>*</code> applies to all instances (lowest priority)</li><li>For other configuration parameters, please refer to this documentation</li></ol><h2 id="other-options" tabindex="-1">Other Options <a class="header-anchor" href="#other-options" aria-label="Permalink to &quot;Other Options&quot;">​</a></h2><ol><li><code>-D, --baseDir</code> <code>[baseDir]</code>: Customize the Whistle storage root directory (defaults to <code>$WWHISTLE_PATH/.whistle</code>)</li></ol><blockquote><p>Example: <code>w2 start -D ~/my_whistle_data</code></p></blockquote><ol start="2"><li><code>-n, --username [username]</code>: Set the management interface login username</li><li><code>-w, --password [password]</code>: Set the management interface login password</li></ol><blockquote><p>Example: <code>w2 start -n abc -w 123</code></p></blockquote><ol start="4"><li><code>-N, --guestName [username]</code>: Set a read-only guest account (guests can only view configuration and capture packets, but cannot modify them)</li><li><code>-W, --guestPassword [password]</code>: Set the guest account password (guests can only view configuration and capture packets, but cannot modify them)</li></ol><blockquote><p>Example: <code>w2 start -N test -W 123</code></p></blockquote><ol start="6"><li><code>-P, --uiport [uiport]</code>: Set a separate management interface port (defaults to the same as the proxy port)</li></ol><blockquote><p>Example: \`w2 start -P 8889</p></blockquote><ol start="7"><li><code>-e, --extra [extraData]</code>: Passes data to the specified plugin at startup (e.g., {inspect: data}\`).</li></ol><blockquote><p>Example: <code>w2 start -e &#39;{&quot;debug&quot;:true}&#39;</code></p></blockquote><ol start="8"><li><code>--allowOrigin [originList]</code>: Allows cross-origin requests to the domain name of the management interface.</li></ol><blockquote><p>Example: <code>w2 start --allowOrigin *</code></p></blockquote><ol start="9"><li><code>--no-global-plugins</code>: Does not load plugins installed with <code>npm i -g whistle.xxx</code> at startup.</li></ol><blockquote><p>Example: <code>w2 start --no-global-plugins</code></p></blockquote><ol start="10"><li><code>--inspect [[host:]port]</code>: Enables Node.js debugging (default port 9229), for use with Chrome DevTools.</li></ol><blockquote><p>Example: <code>w2 start --inspect</code></p></blockquote><ol start="11"><li><code>--inspectBrk [[host:]port]</code>: Enables debugging and sets a breakpoint on the first line.</li></ol><blockquote><p>Example: <code>w2 </code>start --inspectBrk\`</p></blockquote><ol start="12"><li><code>--config [config]</code>: Load parameters from a configuration file</li></ol><blockquote><p>Example: <code>w2 start --config /data/xxx.json</code></p></blockquote><p>To set a user password for requests, you need a plugin (or develop your own): <a href="https://github.com/whistle-plugins/whistle.proxyauth" target="_blank" rel="noreferrer">whistle.proxyauth</a></p>`,80)]))}const g=i(e,[["render",l]]);export{F as __pageData,g as default};
