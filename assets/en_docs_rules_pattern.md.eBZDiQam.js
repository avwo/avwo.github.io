import{_ as t,c as a,o,ag as s}from"./chunks/framework.Bw-5EFTY.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/rules/pattern.md","filePath":"en/docs/rules/pattern.md"}'),l={name:"en/docs/rules/pattern.md"};function i(c,e,n,d,r,p){return o(),a("div",null,e[0]||(e[0]=[s(`<p><code>pattern</code> is the first part of Whistle rules, used to match request URLs. It supports various matching methods including domains, paths, wildcards, and regular expressions.</p><p>Through <code>pattern</code>, you can:</p><ul><li>Precisely match specific domains or paths</li><li>Use wildcards to match a group of related requests</li><li>Use regular expressions to implement complex matching logic</li><li>Support three different types of URL matching</li></ul><h2 id="request-url-types" tabindex="-1">Request URL Types <a class="header-anchor" href="#request-url-types" aria-label="Permalink to &quot;Request URL Types&quot;">‚Äã</a></h2><p>Whistle supports three types of request URLs:</p><table tabindex="0"><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Format</th><th style="text-align:left;">Examples</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Tunnel Proxy</strong></td><td style="text-align:left;"><code>tunnel://domain[:port]</code></td><td style="text-align:left;"><code>tunnel://www.test.com:443</code></td></tr><tr><td style="text-align:left;"><strong>WebSocket</strong></td><td style="text-align:left;"><code>ws[s]://domain[:port]/[path/to[?query]]</code></td><td style="text-align:left;"><code>wss://www.test.com/path?a=1&amp;b=2</code><br><code>ws://www.example.com:8080/path</code></td></tr><tr><td style="text-align:left;"><strong>Regular HTTP/HTTPS</strong></td><td style="text-align:left;"><code>http[s]://domain[:port]/[path/to][?query]</code></td><td style="text-align:left;"><code>https://www.test.com/path</code><br><code>http://www.example.com/path?a=1&amp;b=2</code></td></tr></tbody></table><h2 id="domain-matching" tabindex="-1">Domain Matching <a class="header-anchor" href="#domain-matching" aria-label="Permalink to &quot;Domain Matching&quot;">‚Äã</a></h2><h3 id="domain-structure" tabindex="-1">Domain Structure <a class="header-anchor" href="#domain-structure" aria-label="Permalink to &quot;Domain Structure&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[[schema]://]domain[:port]</span></span></code></pre></div><p><strong>Parameter Description</strong>:</p><ul><li><code>domain</code>: Domain name or IP address, supports wildcards</li><li><code>port</code>: Port number (optional), supports wildcards</li><li><code>schema</code>: Protocol type (optional, such as <code>http</code>, <code>https</code>, <code>ws</code>, <code>wss</code>, <code>tunnel</code>), supports wildcards</li><li><code>//</code>: Represents using the current request&#39;s protocol (automatically adapts to HTTP/HTTPS)</li></ul><h3 id="matching-formats" tabindex="-1">Matching Formats <a class="header-anchor" href="#matching-formats" aria-label="Permalink to &quot;Matching Formats&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Format</th><th style="text-align:left;">Examples</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Normal Domain</strong> (supports wildcards)</td><td style="text-align:left;"><code>domain</code><br><code>IP</code><br><code>//domain</code><br><code>//IP</code></td><td style="text-align:left;"><code>www.example.com</code><br><code>1.2.3.4</code><br><code>*.example.com</code><br><code>//www.example.com</code><br><code>//1.2.3.4</code></td></tr><tr><td style="text-align:left;"><strong>Domain with Port</strong> (port supports wildcards)</td><td style="text-align:left;"><code>domain:port</code><br><code>//domain:port</code></td><td style="text-align:left;"><code>www.example.com:8080</code><br><code>//www.ex*le.com:8*</code></td></tr><tr><td style="text-align:left;"><strong>Domain with Protocol</strong> (protocol supports wildcards)</td><td style="text-align:left;"><code>schema://domain[:port]</code></td><td style="text-align:left;"><code>tunnel://www.*amp*.com</code><br><code>ws*://**.example.com:443</code><br><code>http*://www.example.com:8*8</code></td></tr></tbody></table><h3 id="wildcard-explanation-for-domains" tabindex="-1">Wildcard Explanation for Domains <a class="header-anchor" href="#wildcard-explanation-for-domains" aria-label="Permalink to &quot;Wildcard Explanation for Domains&quot;">‚Äã</a></h3><h4 id="domain-wildcards" tabindex="-1">Domain Wildcards <a class="header-anchor" href="#domain-wildcards" aria-label="Permalink to &quot;Domain Wildcards&quot;">‚Äã</a></h4><ul><li><code>*</code>: Equivalent to regex <code>/[^/?.]*/</code> (i.e., 0 or any number of non-<code>.</code> characters in the domain)</li><li><code>**</code>: Equivalent to regex <code>/[^/?]*/</code> (i.e., 0 or any number of characters in the domain)</li><li><code>***</code> (and above): Not recommended</li></ul><p><strong>Examples</strong>:</p><ul><li><code>www.example*.com</code>: Can match <code>www.example.com</code>, <code>www.examplexxx.com:8080</code>, etc., but cannot match <code>www.example.x.com</code></li><li><code>*.example.com</code>: Can match <code>www.example.com</code>, <code>www.example.com:8080</code>, but cannot match <code>x.www.example.com</code></li><li><code>**.example.com</code>: Can match <code>x.y.z.www.example.com</code>, <code>x.y.www.example.com:8080</code>, etc., but cannot match <code>example.com</code></li></ul><h4 id="port-wildcards" tabindex="-1">Port Wildcards <a class="header-anchor" href="#port-wildcards" aria-label="Permalink to &quot;Port Wildcards&quot;">‚Äã</a></h4><ul><li><code>*</code> (and above): Equivalent to regex <code>/\\d*/</code> (i.e., 0 or any number of digits)</li></ul><p><strong>Examples</strong>:</p><ul><li><code>http://www.example.com:8*8</code>: Matches <code>http://www.example.com:88</code>, <code>http://www.example.com:8888</code>, etc., but cannot match <code>http://www.example.com:8080</code></li></ul><h4 id="protocol-wildcards" tabindex="-1">Protocol Wildcards <a class="header-anchor" href="#protocol-wildcards" aria-label="Permalink to &quot;Protocol Wildcards&quot;">‚Äã</a></h4><ul><li><code>*</code> (and above): Equivalent to regex <code>/[a-z]*/</code> (i.e., 0 or any number of characters in the protocol)</li></ul><p><strong>Examples</strong>:</p><ul><li><code>http*://www.example.com</code>: Matches <code>http://www.example.com</code> and <code>https://www.example.com:8080</code></li></ul><h2 id="path-matching" tabindex="-1">Path Matching <a class="header-anchor" href="#path-matching" aria-label="Permalink to &quot;Path Matching&quot;">‚Äã</a></h2><p>URL Path Structure:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[[schema:]//]domain[:port]/path?query</span></span></code></pre></div><p><strong>Example</strong>: <code>https://www.example.com/data/test/result?q=123</code></p><h3 id="matching-formats-1" tabindex="-1">Matching Formats <a class="header-anchor" href="#matching-formats-1" aria-label="Permalink to &quot;Matching Formats&quot;">‚Äã</a></h3><h4 id="_1-path-without-protocol-can-match-any-protocol" tabindex="-1">1. Path Without Protocol (can match any protocol) <a class="header-anchor" href="#_1-path-without-protocol-can-match-any-protocol" aria-label="Permalink to &quot;1. Path Without Protocol (can match any protocol)&quot;">‚Äã</a></h4><ul><li><code>www.example.com[:port]/[path/to[?query]]</code></li><li><code>//www.example.com[:port]/[path/to[?query]]</code></li></ul><h4 id="_2-path-with-protocol-matches-requests-with-specified-protocol" tabindex="-1">2. Path With Protocol (matches requests with specified protocol) <a class="header-anchor" href="#_2-path-with-protocol-matches-requests-with-specified-protocol" aria-label="Permalink to &quot;2. Path With Protocol (matches requests with specified protocol)&quot;">‚Äã</a></h4><ul><li><code>ws[s]://www.example.com[:port]/[path/to[?query]]</code></li><li><code>http[s]://www.example.com[:port]/[path/to[?query]]</code></li></ul><blockquote><p><strong>Note</strong>: TUNNEL requests do not have paths.</p></blockquote><h4 id="_3-with-wildcards" tabindex="-1">3. With Wildcards <a class="header-anchor" href="#_3-with-wildcards" aria-label="Permalink to &quot;3. With Wildcards&quot;">‚Äã</a></h4><ul><li><code>ws*://*.example.com/path/to</code></li><li><code>http*[s]*://www.example*.com:8*/path/to</code></li></ul><h2 id="detailed-explanation-of-matching-mechanisms" tabindex="-1">Detailed Explanation of Matching Mechanisms <a class="header-anchor" href="#detailed-explanation-of-matching-mechanisms" aria-label="Permalink to &quot;Detailed Explanation of Matching Mechanisms&quot;">‚Äã</a></h2><h4 id="basic-path-matching" tabindex="-1">Basic Path Matching <a class="header-anchor" href="#basic-path-matching" aria-label="Permalink to &quot;Basic Path Matching&quot;">‚Äã</a></h4><p>Matches specified hosts and paths along with all their subpaths, supporting multiple protocols:</p><p><strong>Supported Protocols</strong>:</p><ul><li><code>http://</code> / <code>https://</code> (HTTP/HTTPS)</li><li><code>tunnel://</code> (Tunnel Proxy)</li><li><code>ws://</code> / <code>wss://</code> (WebSocket connections)</li></ul><p><strong>Path Matching Rules</strong>:<br> Matches <code>www.example.com/path</code> and all its subpaths:</p><ul><li>‚úÖ <code>www.example.com/path</code></li><li>‚úÖ <code>www.example.com/path/</code></li><li>‚úÖ <code>www.example.com/path/subfolder</code></li><li>‚úÖ <code>www.example.com/path/file.html</code></li><li>‚úÖ <code>www.example.com/path/subfolder/file?query=1</code></li><li>‚ùå <code>www.example.com/path-other</code> (does not start with <code>/path</code>)</li><li>‚ùå <code>www.example.com/path123</code> (not an exact prefix of <code>/path</code>)</li></ul><h4 id="wildcard-matching-example" tabindex="-1">Wildcard Matching Example <a class="header-anchor" href="#wildcard-matching-example" aria-label="Permalink to &quot;Wildcard Matching Example&quot;">‚Äã</a></h4><p>Rule:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example*.com/path/to www.test.com/test</span></span></code></pre></div><p><strong>Matching Scenarios</strong>:</p><ul><li><code>https://www.example123.com/path/to?query=abc</code><br> ‚Üí mapped to <code>https://www.test.com/test?query=abc</code></li><li><code>https://www.example123.com/path/to/subpage</code><br> ‚Üí mapped to <code>https://www.test.com/test/subpage</code></li><li><code>wss://www.example456.com/path/to/api</code><br> ‚Üí mapped to <code>wss://www.test.com/test/api</code></li></ul><p><strong>Non-matching Scenarios</strong>:</p><ul><li><code>https://www.example123.com/path/to123</code> (path does not end with <code>/to</code>)</li><li><code>https://example123.com/path/to</code> (missing www prefix)</li><li><code>https://www.example123.com/path</code> (incomplete path)</li></ul><h4 id="exact-matching-with-query-parameters" tabindex="-1"><strong>Exact Matching with Query Parameters</strong> <a class="header-anchor" href="#exact-matching-with-query-parameters" aria-label="Permalink to &quot;**Exact Matching with Query Parameters**&quot;">‚Äã</a></h4><p>Rule:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.demo*.com/path/to?name= www.test.com/test</span></span></code></pre></div><p><strong>Rule Explanation</strong>:</p><ul><li>Path must exactly match <code>/path/to</code></li><li>Must include the <code>name=</code> query parameter (case-sensitive)</li><li>After matching, the <code>name=</code> parameter is removed while other parameters are retained</li></ul><p><strong>Matching Scenarios</strong>:</p><ul><li><code>https://www.demo.com/path/to?name=john&amp;age=20</code><br> ‚Üí mapped to <code>https://www.test.com/test?age=20</code></li><li><code>https://www.demo.com/path/to?name=&amp;sort=asc</code><br> ‚Üí mapped to <code>https://www.test.com/test?sort=asc</code></li></ul><p><strong>Non-matching Scenarios</strong>:</p><ul><li><code>https://www.demo.com/path/to/extra?name=john</code> (path not exact)</li><li><code>https://www.demo.com/path/to?Name=john</code> (parameter name case mismatch)</li><li><code>https://www.demo.com/path/to?user=john</code> (missing name parameter)</li></ul><h2 id="path-wildcard-matching" tabindex="-1">Path Wildcard Matching <a class="header-anchor" href="#path-wildcard-matching" aria-label="Permalink to &quot;Path Wildcard Matching&quot;">‚Äã</a></h2><p>Since <code>*</code> is a valid URL path character, when it needs to be used as a wildcard, add <code>^</code> before the expression to explicitly declare:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^[[schema:]//]domain[:port]/pa**th?qu*ery</span></span></code></pre></div><p><strong>Example</strong>: <code>^http*://**.example.com/data/*/result?q=*23</code></p><p>Whistle internally converts wildcard paths into corresponding regular expressions with the following conversion rules:</p><h3 id="_1-protocol-domain-port-wildcard-rules" tabindex="-1">1. Protocol, Domain, Port Wildcard Rules <a class="header-anchor" href="#_1-protocol-domain-port-wildcard-rules" aria-label="Permalink to &quot;1. Protocol, Domain, Port Wildcard Rules&quot;">‚Äã</a></h3><p>Same as domain matching above.</p><h3 id="_2-path-part-wildcard-rules" tabindex="-1">2. Path Part Wildcard Rules <a class="header-anchor" href="#_2-path-part-wildcard-rules" aria-label="Permalink to &quot;2. Path Part Wildcard Rules&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Wildcard</th><th style="text-align:left;">Regex Equivalent</th><th style="text-align:left;">Matching Scope</th><th style="text-align:left;">Example</th></tr></thead><tbody><tr><td style="text-align:left;"><code>*</code></td><td style="text-align:left;"><code>/[^?/]*/</code></td><td style="text-align:left;">Single-level path (excluding <code>/</code> and <code>?</code>)</td><td style="text-align:left;"><code>^.../*/*.js</code> ‚Üí <code>.../a/b.js</code></td></tr><tr><td style="text-align:left;"><code>**</code></td><td style="text-align:left;"><code>/[^?]*/</code></td><td style="text-align:left;">Multi-level path (excluding <code>?</code>)</td><td style="text-align:left;"><code>^.../**file</code> ‚Üí <code>.../a/b/c/test-file</code></td></tr><tr><td style="text-align:left;"><code>***</code></td><td style="text-align:left;"><code>/.*/</code></td><td style="text-align:left;">Any character (including <code>/</code> and <code>?</code>)</td><td style="text-align:left;"><code>^.../data/***file</code> ‚Üí <code>.../a/b/c?test=file</code></td></tr></tbody></table><h3 id="_3-query-parameter-wildcard-rules" tabindex="-1">3. Query Parameter Wildcard Rules <a class="header-anchor" href="#_3-query-parameter-wildcard-rules" aria-label="Permalink to &quot;3. Query Parameter Wildcard Rules&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Wildcard</th><th style="text-align:left;">Regex Equivalent</th><th style="text-align:left;">Matching Scope</th><th style="text-align:left;">Example</th></tr></thead><tbody><tr><td style="text-align:left;"><code>*</code></td><td style="text-align:left;"><code>/[^&amp;]*/</code></td><td style="text-align:left;">Single parameter value (excluding <code>&amp;</code>)</td><td style="text-align:left;"><code>^...?q=*123</code> ‚Üí <code>...?q=abc123</code></td></tr><tr><td style="text-align:left;"><code>**</code></td><td style="text-align:left;"><code>/.*/</code></td><td style="text-align:left;">Any character (including <code>&amp;</code>)</td><td style="text-align:left;"><code>^...?q=**123</code> ‚Üí <code>...?q=abc&amp;test=123</code></td></tr></tbody></table><blockquote><p><strong>Memory Tip</strong>: Mainly remember the matching scope of the three wildcards <code>*</code>, <code>**</code>, <code>***</code>.</p></blockquote><h2 id="regular-expression-matching" tabindex="-1">Regular Expression Matching <a class="header-anchor" href="#regular-expression-matching" aria-label="Permalink to &quot;Regular Expression Matching&quot;">‚Äã</a></h2><p>In addition to simple matching rules, Whistle provides complete regular expression support, with syntax fully compatible with JavaScript regular expressions:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/pattern/[flags]</span></span></code></pre></div><p><strong>Parameter Description</strong>:</p><ul><li><code>pattern</code>: Regular expression body</li><li><code>flags</code>: Matching mode modifiers (optional), supports: <ul><li><code>i</code>: Case-insensitive, e.g., <code>/abc/i</code> matches &quot;AbC&quot;</li><li><code>u</code>: Enable Unicode support, e.g., <code>/\\p{Emoji}/u</code> matches &quot;üòÄ&quot;</li></ul></li></ul><p><strong>Examples</strong>:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/\\.test\\./          # Matches &quot;.test.&quot;</span></span>
<span class="line"><span>/key=value/i        # Case-insensitive match for &quot;key=value&quot;</span></span>
<span class="line"><span>/\\/statics\\//ui     # Unicode mode match for &quot;/statics/&quot;</span></span></code></pre></div><h2 id="submatch-value-passing" tabindex="-1">Submatch Value Passing <a class="header-anchor" href="#submatch-value-passing" aria-label="Permalink to &quot;Submatch Value Passing&quot;">‚Äã</a></h2><p>In Whistle rule configuration, you can reference submatch content from wildcard or regular expression matches through <code>$0</code>, <code>$1</code> to <code>$9</code>, and pass them to operation values:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern protocol://$0_$1_$2_..._$1</span></span></code></pre></div><p><strong>Parameter Description</strong>:</p><ul><li><strong>$0</strong>: Complete match result</li><li><strong>$1 - $9</strong>: Content of corresponding capture groups</li></ul><h3 id="wildcard-matching-value-passing" tabindex="-1">Wildcard Matching Value Passing <a class="header-anchor" href="#wildcard-matching-value-passing" aria-label="Permalink to &quot;Wildcard Matching Value Passing&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^http://*.example.com/v0/users/** file:///User/xxx/$1/$2</span></span></code></pre></div><p><strong>Matching Example</strong>:</p><ul><li>Request URL: <code>http://www.example.com/v2/users/alice/test.html?q=1</code></li><li>Value Passing Result: <ul><li><code>$1</code> = <code>www</code></li><li><code>$2</code> = <code>users/alice</code></li></ul></li><li>Final Replacement: Local file <code>/User/xxx/www/alice/test.html</code> content</li></ul><h3 id="regular-expression-matching-value-passing" tabindex="-1">Regular Expression Matching Value Passing <a class="header-anchor" href="#regular-expression-matching-value-passing" aria-label="Permalink to &quot;Regular Expression Matching Value Passing&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/regexp\\/(user|admin)\\/(\\d+)/ reqHeaders://X-Type=$1&amp;X-ID=$2</span></span></code></pre></div><p><strong>Matching Example</strong>:</p><ul><li>Request URL: <code>.../regexp/admin/123</code></li><li>Value Passing Result: <ul><li><code>$1</code> = <code>admin</code></li><li><code>$2</code> = <code>123</code></li></ul></li><li>Final Effect: Add request headers <code>X-Type: admin</code> and <code>X-ID: 123</code></li></ul><h2 id="special-notes" tabindex="-1">Special Notes <a class="header-anchor" href="#special-notes" aria-label="Permalink to &quot;Special Notes&quot;">‚Äã</a></h2><p>Domain matching and path matching automatically concatenate paths when mapping to local file/directory paths or new remote URLs, i.e.:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://*.example.com/path/to https://www.test.com/test</span></span>
<span class="line"><span></span></span>
<span class="line"><span>www.example.com file:///Usr/test</span></span></code></pre></div><p><strong>Examples</strong>:</p><ul><li>Accessing <code>https://abc.example.com/path/to/x/y/z?query</code> will automatically be replaced with new URL: <code>https://www.test.com/test/x/y/z?query</code></li><li>Accessing <code>https://wwww.example.com/path/to/index.html?query</code> will automatically be replaced with local file: <code>https://www.test.com/path/to/index.html</code> (automatically removes <code>query</code>)</li></ul><h2 id="configuration-examples" tabindex="-1">Configuration Examples <a class="header-anchor" href="#configuration-examples" aria-label="Permalink to &quot;Configuration Examples&quot;">‚Äã</a></h2><h3 id="basic-matching" tabindex="-1">Basic Matching <a class="header-anchor" href="#basic-matching" aria-label="Permalink to &quot;Basic Matching&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Exact domain matching</span></span>
<span class="line"><span>api.example.com proxy://127.0.0.1:3000</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Port-specific matching</span></span>
<span class="line"><span>www.example.com:8080 file:///local/dev</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Path matching</span></span>
<span class="line"><span>www.example.com/api/users file://{user-data}</span></span></code></pre></div><h3 id="wildcard-matching" tabindex="-1">Wildcard Matching <a class="header-anchor" href="#wildcard-matching" aria-label="Permalink to &quot;Wildcard Matching&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Match all subdomains</span></span>
<span class="line"><span>**.example.com proxy://127.0.0.1:8080</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Match subdomains with specific prefix</span></span>
<span class="line"><span>dev-**.example.com file:///(dev-mock)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Match all HTTP/HTTPS requests</span></span>
<span class="line"><span>http*://www.example.com  cache://3600</span></span></code></pre></div><h3 id="regular-expression-matching-1" tabindex="-1">Regular Expression Matching <a class="header-anchor" href="#regular-expression-matching-1" aria-label="Permalink to &quot;Regular Expression Matching&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Match user pages with numeric IDs</span></span>
<span class="line"><span>/^https?://www\\.example\\.com/user/(\\d+)/ file://(user-$1)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Case-insensitive match for specific path</span></span>
<span class="line"><span>/\\/api\\/v1\\/data/i resBody://({&quot;version&quot;:&quot;v1&quot;})</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Match static resource files</span></span>
<span class="line"><span>/\\.(jpg|png|gif|css|js)$/i cache://86400</span></span></code></pre></div><h3 id="complex-matching" tabindex="-1">Complex Matching <a class="header-anchor" href="#complex-matching" aria-label="Permalink to &quot;Complex Matching&quot;">‚Äã</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Combine wildcards and paths</span></span>
<span class="line"><span>^https://**.example.com/api/*/v*/users reqHeaders://x-api-version=$3</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Multi-condition matching</span></span>
<span class="line"><span>www.example.com/api file://({&quot;status&quot;:&quot;ok&quot;}) includeFilter://m:GET</span></span>
<span class="line"><span>www.example.com/api file://({&quot;status&quot;:&quot;created&quot;}) includeFilter://m:POST</span></span></code></pre></div><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">‚Äã</a></h2><h3 id="q-rules-not-matching-requests" tabindex="-1">Q: Rules Not Matching Requests <a class="header-anchor" href="#q-rules-not-matching-requests" aria-label="Permalink to &quot;Q: Rules Not Matching Requests&quot;">‚Äã</a></h3><p><strong>A:</strong> Check:</p><ol><li>Whether the URL format is correct</li><li>Whether it contains the correct protocol and port</li><li>Whether wildcards or regular expressions are correct</li><li>Whether there are higher-priority rules overriding</li></ol><h3 id="q-regular-expressions-not-working" tabindex="-1">Q: Regular Expressions Not Working <a class="header-anchor" href="#q-regular-expressions-not-working" aria-label="Permalink to &quot;Q: Regular Expressions Not Working&quot;">‚Äã</a></h3><p><strong>A:</strong> Check:</p><ol><li>Whether the regular expression syntax is correct</li><li>Whether special characters need to be escaped</li><li>Whether matching mode flags are set correctly</li></ol><h3 id="q-submatch-value-passing-error" tabindex="-1">Q: Submatch Value Passing Error <a class="header-anchor" href="#q-submatch-value-passing-error" aria-label="Permalink to &quot;Q: Submatch Value Passing Error&quot;">‚Äã</a></h3><p><strong>A:</strong> Check:</p><ol><li>Whether capture group numbers are correct</li><li>Whether wildcard matching correctly captures expected content</li><li>Whether regular expression capture groups work as expected</li></ol><h2 id="extended-reading" tabindex="-1">Extended Reading <a class="header-anchor" href="#extended-reading" aria-label="Permalink to &quot;Extended Reading&quot;">‚Äã</a></h2><ul><li><a href="./rule.html">Rule Syntax Documentation</a>: Understand the complete rule syntax structure</li><li><a href="./operation.html">Operation Instructions Documentation</a>: Learn how to configure operation instructions</li><li><a href="./filters.html">Filters Documentation</a>: Understand how to precisely control rule activation conditions</li></ul>`,119)]))}const u=t(l,[["render",i]]);export{m as __pageData,u as default};
