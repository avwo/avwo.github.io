import{_ as t,a as o,b as s,c as a}from"./chunks/weinre-main.DmZd34ms.js";import{_ as n}from"./chunks/rules.Cxzqu120.js";import{_ as r}from"./chunks/weinre-menu.TvWk0GiX.js";import{_ as i}from"./chunks/log-basic.C8T6h4LA.js";import{_ as l,c,o as d,ag as p}from"./chunks/framework.Bw-5EFTY.js";const _=JSON.parse('{"title":"Getting Started with Whistle","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/getting-started.md","filePath":"en/docs/getting-started.md"}'),h={name:"en/docs/getting-started.md"};function g(u,e,m,f,w,x){return d(),c("div",null,e[0]||(e[0]=[p('<h1 id="getting-started-with-whistle" tabindex="-1">Getting Started with Whistle <a class="header-anchor" href="#getting-started-with-whistle" aria-label="Permalink to &quot;Getting Started with Whistle&quot;">​</a></h1><p>Once installed, launch Whistle according to your installation type:</p><ul><li><strong>Desktop Application Version</strong>: Launch the desktop app directly.</li><li><strong>Command-Line Version</strong>: Access <code>http://local.whistlejs.com</code> in your browser.</li></ul><p>This will open the main Whistle <strong>Web Interface</strong>.</p><p><img src="'+t+'" alt="Whistle Web Interface"></p><p>The main interface provides four core functional areas:</p><ul><li><strong>Network</strong>: The main panel for real-time packet capture, analysis, and tools like request replay/compose.</li><li><strong>Rules</strong>: The interface for configuring rules to modify requests and responses.</li><li><strong>Values</strong>: The interface for managing configurable values (which can be referenced as variables in rules).</li><li><strong>Plugins</strong>: The interface for managing plugins.</li></ul><h2 id="interface-examples" tabindex="-1">Interface Examples <a class="header-anchor" href="#interface-examples" aria-label="Permalink to &quot;Interface Examples&quot;">​</a></h2><ol><li><p><strong>Replay a Request</strong></p><blockquote><p>Select a request in the Network list and click the <code>Replay</code> button in the toolbar, or right-click the request and choose <code>Actions -&gt; Replay</code>. <img src="'+o+'" alt="Replay Request"></p></blockquote></li><li><p><strong>Compose or Edit a Request</strong></p><blockquote><p>Select a request in the Network list and click the <code>Edit</code> button in the toolbar, or right-click the request and choose <code>Actions -&gt; Edit Request</code>. <img src="'+s+'" alt="Edit Request"></p></blockquote></li></ol><h2 id="introduction-to-rules" tabindex="-1">Introduction to Rules <a class="header-anchor" href="#introduction-to-rules" aria-label="Permalink to &quot;Introduction to Rules&quot;">​</a></h2><p><img src="'+n+`" alt="Rules Interface"></p><p>Whistle allows you to efficiently modify and debug network requests and responses by configuring concise rules. All rules are based on a core syntax structure:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern operation [lineProps...] [filters...]</span></span></code></pre></div><p><strong>Interpretation</strong>: When a request&#39;s URL matches the <code>pattern</code>, Whistle performs the action defined by the <code>operation</code> on it. Additionally, you can:</p><ul><li>Use the optional <code>lineProps</code> to set special properties for the rule on the same line.</li><li>Use the optional <code>filters</code> to perform a secondary, more precise筛选 (filtering) on the already matched requests.</li></ul><table tabindex="0"><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Description &amp; Examples</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>pattern</code></strong></td><td style="text-align:left;">An expression to match request URLs (supports domain, path, regex, wildcard).<br>1. <code>www.test.com</code> (Domain)<br>2. <code>https://www.test.com</code> (Domain with protocol)<br>3. <code>www.test.com:8080</code> (Domain with port)<br>4. <code>*.test.com</code> (Domain with wildcard)<br>5. <code>www.test.com/path</code> (Path)<br>6. <code>https://www.test.com/path</code> (Path with protocol)<br>7. <code>www.test.com/path?query</code> (Domain with query string)<br>8. <code>/api/i</code> (Regular Expression)<br>9. <code>^**.test.com/path/index.*.js</code> (Wildcard)<br>10. <code>^https://**.test.com/path/index.*.js</code> (Wildcard with protocol)</td></tr><tr><td style="text-align:left;"><strong><code>operation</code></strong></td><td style="text-align:left;">The specific action to execute, formatted as <code>protocol://value</code>.<br>1. <code>reqHeaders://x-proxy=whistle</code> (Set request headers)<br>2. <code>file:///User/xxx</code> (Map to a local file)</td></tr><tr><td style="text-align:left;"><strong><code>lineProps</code></strong></td><td style="text-align:left;">Additional configurations that apply only to the current rule line, used for behaviors like increasing priority or refining matching (supports combination).<br>1. <code>lineProps://important</code> (Increase the rule&#39;s priority)<br>2. <code>lineProps://safeHtml</code> (Ensure the response content is not a JSON object)<br>3. <code>lineProps://proxyHost</code> (Allow both <code>proxy</code> and <code>host</code> protocols to take effect)</td></tr><tr><td style="text-align:left;"><strong><code>filters</code></strong></td><td style="text-align:left;">Perform more precise filtering based on the <code>pattern</code> match (supports combination).<br>1. <code>includeFilter://b:cmdname=xxx</code> (Keep requests whose body contains <code>cmdname=xxx</code>, case-insensitive)<br>2. <code>excludeFilter://reqH.user-agent=/android/i</code> (Exclude requests whose User-Agent contains &#39;android&#39;, case-insensitive)</td></tr></tbody></table><p>Let&#39;s start with some common features to get an intuitive feel for basic Whistle rule usage. Detailed explanations will follow.</p><h2 id="local-replacement-proxying" tabindex="-1">Local Replacement / Proxying <a class="header-anchor" href="#local-replacement-proxying" aria-label="Permalink to &quot;Local Replacement / Proxying&quot;">​</a></h2><p>During development or troubleshooting, it&#39;s often necessary to forward page, static resource, or API requests to a local environment or a specified test server. Whistle rules make this mapping and proxying convenient.</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 1. Forward page requests to a local dev server</span></span>
<span class="line"><span>www.example.com http://localhost:5173 excludeFilter://*/static excludeFilter://*/api</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 2. Map static resources to a local directory</span></span>
<span class="line"><span>www.example.com/static file:///User/xxx/statics</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 3. Forward API requests to a test environment server</span></span>
<span class="line"><span>www.example.com/api 10.1.0.1:8080</span></span></code></pre></div><h4 id="rule-explanation" tabindex="-1">Rule Explanation <a class="header-anchor" href="#rule-explanation" aria-label="Permalink to &quot;Rule Explanation&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">Rule</th><th style="text-align:left;">Effect</th><th style="text-align:left;">Notes</th></tr></thead><tbody><tr><td style="text-align:left;"><code>www.example.com/static file:///User/xxx/statics</code></td><td style="text-align:left;">Maps all requests under <code>www.example.com/static/…</code> to the local <code>/User/xxx/statics/…</code> directory.</td><td style="text-align:left;">Returns a 404 error if the corresponding local file does not exist.</td></tr><tr><td style="text-align:left;"><code>www.example.com/api 10.1.0.1:8080</code></td><td style="text-align:left;">Forwards all <code>www.example.com/api/…</code> requests to the test server <code>10.1.0.1:8080</code>.</td><td style="text-align:left;">The URL seen by the server remains unchanged; only the host and port are replaced.</td></tr><tr><td style="text-align:left;"><code>www.example.com http://localhost:5173 excludeFilter://*/static excludeFilter://*/api</code></td><td style="text-align:left;">Forwards all other requests for <code>www.example.com</code> (excluding <code>static</code> and <code>api</code> paths) to the local service <code>localhost:5173</code>.</td><td style="text-align:left;">This rule forwards both <strong>HTTP and HTTPS</strong> requests to <code>http://localhost:5173</code>. The server receives the forwarded URL.</td></tr></tbody></table><p>By adjusting the domain, local path, or test server address in the above rules according to your actual development environment, you can quickly achieve request forwarding to improve development and debugging efficiency.</p><h2 id="modifying-request-response-content" tabindex="-1">Modifying Request/Response Content <a class="header-anchor" href="#modifying-request-response-content" aria-label="Permalink to &quot;Modifying Request/Response Content&quot;">​</a></h2><p>Dynamically modify the content of requests and responses passing through Whistle.</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Set or replace a request header x-client: Whistle</span></span>
<span class="line"><span>www.example.com/path/to reqHeaders://({&quot;x-client&quot;:&quot;Whistle&quot;})</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Modify request form data or JSON object</span></span>
<span class="line"><span>www.example.com/path/to reqMerge://({&quot;test&quot;:123})</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Set CORS response header Access-Control-Allow-Origin: *, excluding OPTIONS requests</span></span>
<span class="line"><span>www.example.com/path/to resCors://* excludeFilter://m:option</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Inject script \`alert(123)\` at the end of the response page (supports HTML or JS type pages)</span></span>
<span class="line"><span>www.example.com/path/to  jsAppend://(alert(123))</span></span></code></pre></div><h2 id="remote-debugging-inspecting-dom-logs" tabindex="-1">Remote Debugging: Inspecting DOM &amp; Logs <a class="header-anchor" href="#remote-debugging-inspecting-dom-logs" aria-label="Permalink to &quot;Remote Debugging: Inspecting DOM &amp; Logs&quot;">​</a></h2><p>Use the built-in <strong>weinre</strong> and <strong>log</strong> protocols for remote page debugging.</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Simultaneously enable remote DOM debugging (weinre) and log capture (log)</span></span>
<span class="line"><span>https://www.qq.com weinre://test log://</span></span></code></pre></div><ol><li><strong>Access the weinre debugger</strong>: After the rule is active, hover over the top menu <code>Weinre</code> and click the session name (e.g., <code>test</code>) to open the debugger interface. <img src="`+r+'" alt="Open weinre menu" width="360"></li><li><strong>Start debugging</strong>: Open the target page (e.g., <code>https://www.qq.com</code>) in your browser. Then, select that page in the weinre interface. You can now inspect <strong>Elements</strong>, <strong>Console</strong>, etc., just like using browser developer tools. <img src="'+a+'" alt="weinre main interface" width="800"></li><li><strong>View complete logs</strong>: All page Console output and JavaScript errors will be displayed in the Whistle web interface under <strong>Network → Right-side Tools → Console</strong> tab. <img src="'+i+'" alt="log basic demo"></li></ol><h2 id="detailed-documentation" tabindex="-1">Detailed Documentation <a class="header-anchor" href="#detailed-documentation" aria-label="Permalink to &quot;Detailed Documentation&quot;">​</a></h2><ol><li><strong><a href="./gui/network.html">Interface Features Details</a></strong>: Deep dive into all features of the Network panel and others.</li><li><strong><a href="./rules/rule.html">Complete Rules Configuration</a></strong>: Reference all supported rule protocols and advanced usage.</li></ol>',32)]))}const R=l(h,[["render",g]]);export{_ as __pageData,R as default};
