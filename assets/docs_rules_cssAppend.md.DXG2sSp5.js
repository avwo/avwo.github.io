import{_ as a,c as e,o as t,ag as n}from"./chunks/framework.Bw-5EFTY.js";const u=JSON.parse('{"title":"cssAppend","description":"","frontmatter":{},"headers":[],"relativePath":"docs/rules/cssAppend.md","filePath":"docs/rules/cssAppend.md"}'),p={name:"docs/rules/cssAppend.md"};function l(i,s,c,o,d,r){return t(),e("div",null,s[0]||(s[0]=[n(`<h1 id="cssappend" tabindex="-1">cssAppend <a class="header-anchor" href="#cssappend" aria-label="Permalink to &quot;cssAppend&quot;">​</a></h1><p><code>cssAppend</code> 协议用于在现有的 CSS 类型响应内容体后面插入指定内容。</p><blockquote><p><strong>生效条件</strong>：仅对响应类型 <code>content-type</code> 包含 <code>html</code> 或 <code>css</code>，且包含响应内容体的状态码（如 <code>200</code>/<code>500</code> 等）才生效</p><p>⚠️ 注意：<code>204</code>、<code>304</code> 等无响应内容体的请求不受影响</p><p>html 页面会自动包裹 <code>&lt;style&gt;...&lt;/style&gt;</code></p></blockquote><p>通过 <code>cssAppend</code> 协议，你可以：</p><ul><li>在现有 CSS 文件的末尾追加新的样式规则</li><li>动态添加 CSS 覆盖规则</li><li>为特定页面注入自定义样式</li><li>在不修改源文件的情况下扩展样式功能</li></ul><h2 id="规则语法" tabindex="-1">规则语法 <a class="header-anchor" href="#规则语法" aria-label="Permalink to &quot;规则语法&quot;">​</a></h2><p><code>cssAppend</code> 支持多种方式指定要追加的内容：</p><h3 id="_1-内联值-直接指定" tabindex="-1">1. 内联值（直接指定） <a class="header-anchor" href="#_1-内联值-直接指定" aria-label="Permalink to &quot;1. 内联值（直接指定）&quot;">​</a></h3><p>直接在规则中写明要追加的 CSS 内容。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># \`value\` 小括号内不能用空格或换行符</span></span>
<span class="line"><span>pattern cssAppend://(value) [lineProps...] [filters...]</span></span></code></pre></div><p><strong>示例：</strong></p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example.com/index.html cssAppend://(.custom-btn{background:red;})</span></span></code></pre></div><h3 id="_2-内嵌值-使用代码块" tabindex="-1">2. 内嵌值（使用代码块） <a class="header-anchor" href="#_2-内嵌值-使用代码块" aria-label="Permalink to &quot;2. 内嵌值（使用代码块）&quot;">​</a></h3><p>当要追加的 CSS 内容有空格或换行符或需要复用时可使用此方式。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern cssAppend://{custom-key} [lineProps...] [filters...]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\` custom-key</span></span>
<span class="line"><span>.dark-mode {</span></span>
<span class="line"><span>  background: #333;</span></span>
<span class="line"><span>  color: #fff;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>\`\`\`</span></span></code></pre></div><h3 id="_3-引用-values-中的值" tabindex="-1">3. 引用 Values 中的值 <a class="header-anchor" href="#_3-引用-values-中的值" aria-label="Permalink to &quot;3. 引用 Values 中的值&quot;">​</a></h3><p>引用在界面 <code>Values</code>（中央配置区）中预先定义好的 CSS 内容。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern cssAppend://{key-of-values} [lineProps...] [filters...]</span></span></code></pre></div><p><strong>前提：</strong> 在 <code>Values</code> 中存在一个名为 <code>key-of-values</code> 的键，其值为 CSS 内容。</p><h3 id="_4-从临时文件中加载" tabindex="-1">4. 从临时文件中加载 <a class="header-anchor" href="#_4-从临时文件中加载" aria-label="Permalink to &quot;4. 从临时文件中加载&quot;">​</a></h3><p>当需要频繁编辑内容时，可以使用 Whistle 提供的临时文件功能。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern cssAppend://temp.css</span></span></code></pre></div><p><strong>操作步骤</strong>：</p><ol><li>在 Rules 编辑器中，按住 <code>Command</code>（Mac）/ <code>Ctrl</code>（Windows）</li><li>鼠标点击 <code>cssAppend://temp.css</code></li><li>在弹出的编辑对话框中输入响应内容</li><li>点击 <code>Save</code> 保存</li></ol><p>保存后规则会自动变为类似以下格式：</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://example.com/test.css cssAppend://temp/11adb9c9e1142df67b30d7646ec59bcd34c855d9011d1a2405c7fc2dfc94568d.css</span></span></code></pre></div><p>需要再次编辑时，用同样的方式点击该临时文件链接即可。</p><h3 id="_5-从文件或远程-url-加载" tabindex="-1">5. 从文件或远程 URL 加载 <a class="header-anchor" href="#_5-从文件或远程-url-加载" aria-label="Permalink to &quot;5. 从文件或远程 URL 加载&quot;">​</a></h3><p>从本地文件或远程 URL 加载要追加的 CSS 内容。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 从本地文件加载</span></span>
<span class="line"><span>pattern cssAppend:///User/xxx/custom.css</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 从远程 URL 加载（支持 http 和 https）</span></span>
<span class="line"><span>pattern cssAppend://https://cdn.example.com/styles/override.css</span></span></code></pre></div><h1 id="参数详解" tabindex="-1">参数详解 <a class="header-anchor" href="#参数详解" aria-label="Permalink to &quot;参数详解&quot;">​</a></h1><table tabindex="0"><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">是否必填</th><th style="text-align:left;">描述与示例</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>pattern</strong></td><td style="text-align:left;">是</td><td style="text-align:left;">用于匹配请求 URL 的表达式。<br>• 支持域名、路径、通配符、正则表达式。<br>• 详见 <a href="./pattern.html">匹配模式文档</a>。</td></tr><tr><td style="text-align:left;"><strong>value</strong></td><td style="text-align:left;">是</td><td style="text-align:left;">要追加的 CSS 内容，支持多种格式：<br>• 纯 CSS 代码文本<br>• 支持从本地文件、远程 URL、内联、内嵌、Values 引用</td></tr><tr><td style="text-align:left;"><strong>lineProps</strong></td><td style="text-align:left;">否</td><td style="text-align:left;">为规则设置附加属性。<br>• 例如：<code>lineProps://important</code> 可提升此规则的优先级。<br>• 详见 <a href="./lineProps.html">lineProps 文档</a>。</td></tr><tr><td style="text-align:left;"><strong>filters</strong></td><td style="text-align:left;">否</td><td style="text-align:left;">可选的过滤条件，用于精确控制规则生效的场景。<br>• 可匹配请求的 URL、方法、头部、体内容。<br>• 可匹配响应的状态码、头部。<br>• 详见 <a href="./filters.html">过滤器文档</a>。</td></tr></tbody></table><p><strong>特殊说明：</strong></p><ul><li>仅对 <code>content-type</code> 响应头包含 <code>css</code> 的请求生效</li><li>对 <code>204</code>、<code>304</code> 等无响应体的状态码不生效</li><li>追加的内容会直接拼接到原 CSS 文件的末尾</li></ul><h2 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h2><h4 id="场景-1-添加响应式断点" tabindex="-1">场景 1：添加响应式断点 <a class="header-anchor" href="#场景-1-添加响应式断点" aria-label="Permalink to &quot;场景 1：添加响应式断点&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example.com/responsive.css cssAppend://{test.css}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\` test.css</span></span>
<span class="line"><span>@media (max-width: 768px) {</span></span>
<span class="line"><span>  .sidebar { display: none; }</span></span>
<span class="line"><span>  .main-content { width: 100%; }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>\`\`\`</span></span></code></pre></div><h4 id="场景-2-覆盖第三方库样式" tabindex="-1">场景 2：覆盖第三方库样式 <a class="header-anchor" href="#场景-2-覆盖第三方库样式" aria-label="Permalink to &quot;场景 2：覆盖第三方库样式&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cdn.example.com/bootstrap.min.css cssAppend://{test2.css}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\` test2.css</span></span>
<span class="line"><span>/* 覆盖 Bootstrap 默认样式 */</span></span>
<span class="line"><span>.btn-primary { background-color: #007bff !important; }</span></span>
<span class="line"><span>.container { max-width: 1400px; }</span></span>
<span class="line"><span>\`\`\`</span></span></code></pre></div><h4 id="场景-3-添加打印样式" tabindex="-1">场景 3：添加打印样式 <a class="header-anchor" href="#场景-3-添加打印样式" aria-label="Permalink to &quot;场景 3：添加打印样式&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>www.example.com/print.css cssAppend://{test3.css}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\` test3.css</span></span>
<span class="line"><span>@media print {</span></span>
<span class="line"><span>  .no-print { display: none; }</span></span>
<span class="line"><span>  a::after { content: &quot; (&quot; attr(href) &quot;)&quot;; }</span></span>
<span class="line"><span>}\`</span></span>
<span class="line"><span>\`\`\`</span></span></code></pre></div><h2 id="关联协议" tabindex="-1">关联协议 <a class="header-anchor" href="#关联协议" aria-label="Permalink to &quot;关联协议&quot;">​</a></h2><ol><li><p><strong>在响应内容前面注入内容</strong>：<a href="./reqAppend.html">reqAppend</a></p><ul><li>在所有类型响应内容的前面插入内容</li></ul></li><li><p><strong>在 CSS 响应内容前面注入内容</strong>：<a href="./cssPrepend.html">cssPrepend</a></p><ul><li>在 CSS 响应内容的前面插入内容（与 <code>cssAppend</code> 相反）</li></ul></li><li><p><strong>替换 CSS 响应内容</strong>：<a href="./cssBody.html">cssBody</a></p><ul><li>完全替换 CSS 响应内容（而非追加）</li></ul></li><li><p><strong>其他内容类型操作</strong>：</p><ul><li><a href="./jsAppend.html">jsAppend</a>：在 JavaScript 响应内容后追加</li><li><a href="./htmlAppend.html">htmlAppend</a>：在 HTML 响应内容后追加</li></ul></li></ol>`,43)]))}const g=a(p,[["render",l]]);export{u as __pageData,g as default};
