import{_ as l,a as o,b as t,c as a}from"./chunks/proxy-settings.D0kHdlLN.js";import{_ as e,c as r,o as s,ae as n}from"./chunks/framework.Dgg8-8ov.js";const P=JSON.parse('{"title":"移动端抓包","description":"","frontmatter":{},"headers":[],"relativePath":"docs/mobile.md","filePath":"docs/mobile.md"}'),d={name:"docs/mobile.md"};function h(c,i,p,u,m,_){return s(),r("div",null,i[0]||(i[0]=[n('<h1 id="移动端抓包" tabindex="-1">移动端抓包 <a class="header-anchor" href="#移动端抓包" aria-label="Permalink to &quot;移动端抓包&quot;">​</a></h1><p>移动端（含手机/平板）抓包调试需完成以下配置：</p><ol><li>安装根证书（HTTPS 抓包必需）</li><li>设置系统代理</li></ol><h2 id="安装根证书-https-抓包必需" tabindex="-1">安装根证书（HTTPS 抓包必需） <a class="header-anchor" href="#安装根证书-https-抓包必需" aria-label="Permalink to &quot;安装根证书（HTTPS 抓包必需）&quot;">​</a></h2><h4 id="下载根证书" tabindex="-1">下载根证书： <a class="header-anchor" href="#下载根证书" aria-label="Permalink to &quot;下载根证书：&quot;">​</a></h4><ol><li><p>点击 Whistle 界面顶部点击 HTTPS 按钮，弹出 HTTPS 设置对话框</p><img width="320" alt="HTTPS Settings" src="'+l+'"></li><li><p>使用手机相机扫描对话框中的二维码 → 点击弹出的链接（下载失败尝试切换其它二维码，直到扫描下载成功为止）</p><img width="320" alt="Scan qrcode" src="'+o+'"><blockquote><p>如果 Android 自带浏览器无法下载，可尝试使用 Chrome 浏览器动下载地址：http://[电脑IP]:[Whistle端口]/cgi-bin/rootca，或通过 PC 下载后传输到手机</p><p>如果所有二维码都无法下载：</p><ul><li>检查设备与 Whistle 主机是否在同一局域网</li><li>确认防火墙未拦截代理端口</li></ul></blockquote></li><li><p>下载成功后记录二维码地址的 IP 和端口供下面设置系统代理用，并按下面的方法安装和信任根证书</p></li></ol><h4 id="安装根信任证书" tabindex="-1">安装根信任证书： <a class="header-anchor" href="#安装根信任证书" aria-label="Permalink to &quot;安装根信任证书：&quot;">​</a></h4><p><strong>iOS</strong></p><ol><li><p>安装描述文件</p><ul><li>前往：设置 → 通用 → VPN与设备管理</li><li>找到&quot;已下载的描述文件&quot;并安装</li></ul></li><li><p>启用完全信任（此步骤必不可少）</p><ul><li>前往：设置 → 通用 → 关于本机 → 证书信任设置</li><li>开启对 Whistle 根证书的完全信任</li></ul><img width="320" alt="证书信任设置" src="'+t+'"></li></ol><p><strong>Android</strong></p><ol><li>前往：设置 → 安全 → 加密与凭据 → 安装证书 → CA证书</li><li>选择下载的证书文件</li><li>输入锁屏密码确认</li><li>为证书命名（如 &quot;Whistle&quot;）</li></ol><blockquote><p><strong>版本差异说明：</strong></p><p>Android 12+：需在「更多安全设置」中操作</p><p>华为EMUI：需先关闭&quot;纯净模式&quot;</p><p>其他品牌：路径可能略有不同</p></blockquote><h2 id="设置系统代理" tabindex="-1">设置系统代理 <a class="header-anchor" href="#设置系统代理" aria-label="Permalink to &quot;设置系统代理&quot;">​</a></h2><ol><li>进入WiFi设置 <ul><li>前往：设置 → Wi-Fi（无线局域网）</li><li>点击当前连接网络旁的图标（Android 可能需要长按 Wi-Fi 名称）</li></ul></li><li>配置手动代理 <ul><li>代理类型选择&quot;手动&quot;</li><li>服务器：填写上面成功下载证书二维码的 IP</li><li>端口：填写面成功下载证书二维码的端口（Whistle 默认端口为 <code>8899</code>）</li><li>保存设置</li></ul></li></ol><img width="320" alt="设置代理" src="'+a+'"><h2 id="安装根证书和设置代理成功标志" tabindex="-1">安装根证书和设置代理成功标志 <a class="header-anchor" href="#安装根证书和设置代理成功标志" aria-label="Permalink to &quot;安装根证书和设置代理成功标志&quot;">​</a></h2><ol><li>手机访问网页正常</li><li>Whistle 能捕获 HTTPS 请求</li><li>无安全警告提示</li></ol><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><ol><li>证书不受信任 <ul><li>检查是否完成&quot;完全信任&quot;设置（iOS）</li><li>确认证书安装位置正确（Android）</li></ul></li><li>代理不生效 <ul><li>打开看 Whistle 界面右上角 Online 对话框查看 IP 和端口是否有变更</li><li>不确定哪个 IP 可用，可以一个个试看看</li></ul></li><li>特定App无法抓包 <ul><li>检查App是否使用自定义证书</li><li>尝试在AndroidManifest.xml中添加网络配置，详见：<a href="https://developer.android.com/training/articles/security-config#base-config" target="_blank" rel="noreferrer">https://developer.android.com/training/articles/security-config#base-config</a></li></ul></li></ol>',19)]))}const f=e(d,[["render",h]]);export{P as __pageData,f as default};
