import{_ as o,c as t,o as a,ag as c}from"./chunks/framework.Bw-5EFTY.js";const u=JSON.parse('{"title":"pattern","description":"","frontmatter":{},"headers":[],"relativePath":"docs/rules/pattern.md","filePath":"docs/rules/pattern.md"}'),d={name:"docs/rules/pattern.md"};function l(i,e,s,p,r,n){return a(),t("div",null,e[0]||(e[0]=[c(`<h1 id="pattern" tabindex="-1">pattern <a class="header-anchor" href="#pattern" aria-label="Permalink to &quot;pattern&quot;">â€‹</a></h1><p>åŒ¹é…è¯·æ±‚ URL çš„è¡¨è¾¾å¼ï¼Œæ”¯æŒåŸŸåã€è·¯å¾„ã€é€šé…ç¬¦ã€æ­£åˆ™ç­‰åŒ¹é…æ–¹å¼</p><h2 id="è¯·æ±‚-url" tabindex="-1">è¯·æ±‚ URL <a class="header-anchor" href="#è¯·æ±‚-url" aria-label="Permalink to &quot;è¯·æ±‚ URL&quot;">â€‹</a></h2><p>è¯·æ±‚ URL æœ‰ä¸‰ç§ç±»å‹ï¼š</p><ol><li><strong>éš§é“ä»£ç†ï¼š</strong> <code>tunnel://domain:port</code><blockquote><p>ç¤ºä¾‹ï¼š<code>tunnel://www.test.com:443</code></p></blockquote></li><li><strong>WebSocketï¼š</strong> <code>ws[s]://domain[:port]/[path/to[?query]]</code><blockquote><p>ç¤ºä¾‹ï¼š<code>wss://www.test.com/path?a=1&amp;b=2</code></p></blockquote></li><li><strong>æ™®é€š HTTP/HTTPSï¼š</strong> <code>http[s]://domain[:port]/[path/to[?query]]</code><blockquote><p>ç¤ºä¾‹ï¼š<code>https://www.test.com/path?a=1&amp;b=2</code></p></blockquote></li></ol><h2 id="åŸŸååŒ¹é…" tabindex="-1">åŸŸååŒ¹é… <a class="header-anchor" href="#åŸŸååŒ¹é…" aria-label="Permalink to &quot;åŸŸååŒ¹é…&quot;">â€‹</a></h2><ol><li>æ­£å¸¸åŸŸåï¼š <ul><li><code>www.example.com</code>ã€</li><li><code>1.2.3.4</code></li><li><code>//www.example.com</code>ã€</li><li><code>//1.2.3.4</code><blockquote><p>IP ä¹Ÿå¯ä½œä¸ºåŸŸå</p></blockquote></li></ul></li><li>å¸¦ç«¯å£åŸŸåï¼š <ul><li><code>www.example.com:8080</code>ã€</li><li><code>//www.example.com:8080</code>ã€</li></ul></li><li>å¸¦åè®®åŸŸåï¼š <ul><li><code>tunnel://www.example.com[:port]</code></li><li><code>ws[s]://www.example.com[:port]</code></li><li><code>http[s]://www.example.com[:port]</code></li></ul></li></ol><h2 id="è·¯å¾„åŒ¹é…" tabindex="-1">è·¯å¾„åŒ¹é… <a class="header-anchor" href="#è·¯å¾„åŒ¹é…" aria-label="Permalink to &quot;è·¯å¾„åŒ¹é…&quot;">â€‹</a></h2><ol><li>æ— åè®®è·¯å¾„ï¼š <ul><li><code>www.example.com[:port]/[path/to[?query]]</code></li><li><code>//www.example.com[:port]/[path/to[?query]]</code></li></ul></li><li>å¸¦åè®®è·¯å¾„ï¼š <ul><li><code>ws[s]://www.example.com[:port]/[path/to[?query]]</code></li><li><code>http[s]://www.example.com[:port]/[path/to[?query]]</code><blockquote><p>TUNNEL è¯·æ±‚æ²¡æœ‰è·¯å¾„</p></blockquote></li></ul></li></ol><h2 id="é€šé…ç¬¦åŒ¹é…" tabindex="-1">é€šé…ç¬¦åŒ¹é… <a class="header-anchor" href="#é€šé…ç¬¦åŒ¹é…" aria-label="Permalink to &quot;é€šé…ç¬¦åŒ¹é…&quot;">â€‹</a></h2><h3 id="åŸŸåé€šé…ç¬¦è§„åˆ™" tabindex="-1">åŸŸåé€šé…ç¬¦è§„åˆ™ <a class="header-anchor" href="#åŸŸåé€šé…ç¬¦è§„åˆ™" aria-label="Permalink to &quot;åŸŸåé€šé…ç¬¦è§„åˆ™&quot;">â€‹</a></h3><ol><li><strong>åŸºç¡€é€šé…ç¬¦</strong>ï¼š<code>*.example.com[:port][/path][?query]</code><blockquote><p><code>*</code> åŒ¹é…ä»»æ„éåˆ†éš”ç¬¦å­—ç¬¦ï¼ˆæ­£åˆ™ï¼š<code>/[^./?]*/</code>ï¼‰</p><p>ç¤ºä¾‹ï¼š<code>api.example.com</code>ã€<code>shop.example.com:8080</code></p></blockquote></li><li><strong>å¤šçº§é€šé…ç¬¦</strong>ï¼š<code>**.example.com[:port][/path][?query]</code><blockquote><p><code>**</code> åŒ¹é…ä»»æ„å¤šçº§å­åŸŸï¼ˆæ­£åˆ™ï¼š<code>/[^/?]*/</code>ï¼‰</p><p>ç¤ºä¾‹ï¼š<code>a.b.example.com</code>ã€<code>x.y.z.example.com/path</code></p></blockquote></li><li><strong>æ··åˆé€šé…ç¬¦</strong>ï¼š<code>test.abc**.com[:port][/path][?query]</code><blockquote><p><code>**</code> å›ºå®šå‰ç¼€ + å¤šçº§é€šé…ï¼ˆæ­£åˆ™ï¼š<code>/[^/?]*/</code>ï¼‰</p><p>ç¤ºä¾‹ï¼š<code>test.abc123.com</code>ã€<code>test.abc123.x.com</code>ã€<code>test.abc.a.b.com</code></p></blockquote></li><li><strong>åè®®é€šé…ç¬¦</strong>ï¼š<code>http*://test.abc**.com[:port][/path][?query]</code><blockquote><p>åè®®ä¸­çš„ <code>*</code> åŒ¹é…ä»»æ„å­—æ¯æˆ–å†’å·ï¼ˆæ­£åˆ™ï¼š<code>/[a-z:]*/</code>ï¼‰</p><p>ç¤ºä¾‹ï¼š<code>https://...</code>ã€<code>http://...</code></p></blockquote></li><li><strong>ç‰¹æ®Šè§„åˆ™</strong>ï¼š<code>***.example.com[:port][/path][?query]</code><blockquote><p>ç›¸å½“äºåŒæ—¶åŒ¹é…ï¼šæ ¹åŸŸåï¼ˆexample.comï¼‰+ å¤šçº§å­åŸŸï¼ˆ**.example.comï¼‰</p><p>ç¤ºä¾‹ï¼šexample.comã€a.example.comã€a.b.example.com/path?q=1</p></blockquote></li></ol><p>é™¤ä¸Šè¿°ç‰¹æ®Šè§„åˆ™ï¼ˆ<code>***.</code>ï¼‰å¤–ï¼Œåè®®æˆ–åŸŸåéƒ¨åˆ†å‡ºç°3ä¸ªåŠä»¥ä¸Šè¿ç»­çš„æ˜Ÿå·ï¼ˆå¦‚æˆ– <code>***</code>ã€<code>****</code>ï¼‰æ—¶ï¼Œå…¶åŠŸèƒ½ç­‰åŒäº2ä¸ªæ˜Ÿå·ï¼ˆ<code>**</code>ï¼‰</p><h3 id="è·¯å¾„é€šé…ç¬¦" tabindex="-1">è·¯å¾„é€šé…ç¬¦ <a class="header-anchor" href="#è·¯å¾„é€šé…ç¬¦" aria-label="Permalink to &quot;è·¯å¾„é€šé…ç¬¦&quot;">â€‹</a></h3><p>ç”±äº <code>*</code> æ˜¯åˆæ³•çš„ URL è·¯å¾„å­—ç¬¦ï¼Œå½“éœ€è¦å°†å…¶ä½œä¸ºé€šé…ç¬¦ä½¿ç”¨æ—¶ï¼Œåœ¨è¡¨è¾¾å¼å‰é¢åŠ  <code>^</code> æ˜¾å¼å£°æ˜ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^[[schema:]//]domain[:port]/pa**th?qu*ery</span></span></code></pre></div><blockquote><p>ç¤ºä¾‹ï¼š<code>^http*://**.example.com/data/*/result?q=*23</code></p></blockquote><p>åè®®å’ŒåŸŸåçš„é€šé…ç¬¦åŠŸèƒ½åŒä¸Šé¢çš„åŸŸåé€šé…ç¬¦è§„åˆ™ï¼Œçº¯è·¯å¾„åŠè¯·æ±‚å‚æ•°çš„é€šé…ç¬¦è§„åˆ™å¦‚ä¸‹ï¼š</p><h5 id="è·¯å¾„éƒ¨åˆ†çš„é€šé…ç¬¦" tabindex="-1">è·¯å¾„éƒ¨åˆ†çš„é€šé…ç¬¦ <a class="header-anchor" href="#è·¯å¾„éƒ¨åˆ†çš„é€šé…ç¬¦" aria-label="Permalink to &quot;è·¯å¾„éƒ¨åˆ†çš„é€šé…ç¬¦&quot;">â€‹</a></h5><table tabindex="0"><thead><tr><th>é€šé…ç¬¦</th><th>æ­£åˆ™ç­‰ä»·</th><th>åŒ¹é…èŒƒå›´</th><th>ç¤ºä¾‹åŒ¹é…</th></tr></thead><tbody><tr><td><code>*</code></td><td><code>/[^?/]*/</code></td><td>å•çº§è·¯å¾„ï¼ˆä¸å« <code>/</code> å’Œ <code>?</code>ï¼‰</td><td><code>^.../*/*.js</code> -&gt; <code>.../a/b.js</code></td></tr><tr><td><code>**</code></td><td><code>/[^?]*/</code></td><td>å¤šçº§è·¯å¾„ï¼ˆä¸å« <code>?</code>ï¼‰</td><td><code>^.../**file</code> -&gt; <code>.../a/b/c/test-file</code></td></tr><tr><td><code>***</code></td><td><code>/.*/</code></td><td>ä»»æ„å­—ç¬¦ï¼ˆå« <code>/</code> å’Œ <code>?</code>ï¼‰</td><td><code>^.../data/***file</code> -&gt; <code>.../a/b/c?test=file</code></td></tr></tbody></table><h5 id="è¯·æ±‚å‚æ•°éƒ¨åˆ†çš„é€šé…ç¬¦" tabindex="-1">è¯·æ±‚å‚æ•°éƒ¨åˆ†çš„é€šé…ç¬¦ <a class="header-anchor" href="#è¯·æ±‚å‚æ•°éƒ¨åˆ†çš„é€šé…ç¬¦" aria-label="Permalink to &quot;è¯·æ±‚å‚æ•°éƒ¨åˆ†çš„é€šé…ç¬¦&quot;">â€‹</a></h5><table tabindex="0"><thead><tr><th>é€šé…ç¬¦</th><th>æ­£åˆ™ç­‰ä»·</th><th>åŒ¹é…èŒƒå›´</th><th>ç¤ºä¾‹åŒ¹é…</th></tr></thead><tbody><tr><td><code>*</code></td><td><code>/[^&amp;]*/</code></td><td>å•å‚æ•°å€¼ï¼ˆä¸å« <code>&amp;</code>ï¼‰</td><td><code>^...?q=*123</code> -&gt; <code>...?q=abc123</code></td></tr><tr><td><code>**</code></td><td><code>/.*/</code></td><td>ä»»æ„å­—ç¬¦ï¼ˆå« <code>&amp;</code>ï¼‰</td><td><code>^...?q=**123</code> -&gt; <code>...?q=abc&amp;test=123</code></td></tr></tbody></table><h2 id="æ­£åˆ™åŒ¹é…" tabindex="-1">æ­£åˆ™åŒ¹é… <a class="header-anchor" href="#æ­£åˆ™åŒ¹é…" aria-label="Permalink to &quot;æ­£åˆ™åŒ¹é…&quot;">â€‹</a></h2><p>é™¤ç®€å•åŒ¹é…è§„åˆ™å¤–ï¼ŒWhistle æä¾›å®Œæ•´çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œè¯­æ³•ä¸ JavaScript æ­£åˆ™å®Œå…¨å…¼å®¹ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/pattern/[flags]</span></span></code></pre></div><ul><li>patternï¼šæ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“</li><li>flagsï¼šåŒ¹é…æ¨¡å¼ä¿®é¥°ç¬¦ï¼ˆå¯é€‰ï¼‰æ”¯æŒï¼š <ul><li><code>i</code> å¿½ç•¥å¤§å°å†™ <code>/abc/i</code> åŒ¹é… &quot;AbC&quot;</li><li><code>u</code> å¯ç”¨ Unicode æ”¯æŒ <code>/\\p{Emoji}/u</code> åŒ¹é… &quot;ğŸ˜€&quot;</li></ul></li></ul><p>ç¤ºä¾‹ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/\\.test\\./          # åŒ¹é… &quot;.test.&quot;</span></span>
<span class="line"><span>/key=value/i        # å¿½ç•¥å¤§å°å†™åŒ¹é… &quot;key=value&quot;</span></span>
<span class="line"><span>/\\/statics\\//ui     # Unicode æ¨¡å¼åŒ¹é… &quot;/statics/&quot;</span></span></code></pre></div><h2 id="å­åŒ¹é…ä¼ å€¼" tabindex="-1">å­åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#å­åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;å­åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h2><p>åœ¨ Whistle çš„è§„åˆ™é…ç½®ä¸­ï¼Œå¯ä»¥é€šè¿‡ $0ã€$1 è‡³ $9 å¼•ç”¨é€šé…ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­åŒ¹é…å†…å®¹ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ°æ“ä½œå€¼ä¸­ï¼š</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern protocol://$0_$1_$2_..._$1</span></span></code></pre></div><ul><li><strong>$0</strong>ï¼šå®Œæ•´åŒ¹é…ç»“æœ</li><li><strong>$1 - $9</strong>ï¼šå¯¹åº”æ•è·ç»„çš„å†…å®¹</li></ul><h4 id="é€šé…ç¬¦åŒ¹é…ä¼ å€¼" tabindex="-1">é€šé…ç¬¦åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#é€šé…ç¬¦åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;é€šé…ç¬¦åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>^http://*.example.com/v0/users/** file:///User/xxx/$1/$2</span></span></code></pre></div><ul><li><strong>åŒ¹é…</strong>ï¼š<code>http://www.example.com/v2/users/alice/test.html?q=1</code></li><li><strong>ä¼ å€¼</strong>ï¼š <ul><li><code>$1</code> = <code>www</code></li><li><code>$2</code> = <code>users/alice</code></li></ul></li><li>ç»“æœï¼šæ›¿æ¢æœ¬åœ°æ–‡ä»¶ <code>/User/xxx/www/alice/test.html</code> çš„å†…å®¹</li></ul><h4 id="æ­£åˆ™åŒ¹é…ä¼ å€¼" tabindex="-1">æ­£åˆ™åŒ¹é…ä¼ å€¼ <a class="header-anchor" href="#æ­£åˆ™åŒ¹é…ä¼ å€¼" aria-label="Permalink to &quot;æ­£åˆ™åŒ¹é…ä¼ å€¼&quot;">â€‹</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/regexp\\/(user|admin)\\/(\\d+)/ reqHeaders://X-Type=$1&amp;X-ID=$2</span></span></code></pre></div><ul><li><strong>åŒ¹é…</strong>ï¼š<code>.../regexp/admin/123</code></li><li><strong>ä¼ å€¼</strong>ï¼š <ul><li><code>$1</code> = <code>admin</code></li><li><code>$2</code> = <code>123</code></li></ul></li><li><strong>ç»“æœ</strong>ï¼šæ·»åŠ è¯·æ±‚å¤´ <code>X-Type: admin</code> å’Œ <code>X-ID: 123</code></li></ul>`,38)]))}const m=o(d,[["render",l]]);export{u as __pageData,m as default};
