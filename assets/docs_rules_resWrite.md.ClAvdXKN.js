import{_ as t,c as a,o as r,ae as s}from"./chunks/framework.Dgg8-8ov.js";const b=JSON.parse('{"title":"resWrite","description":"","frontmatter":{},"headers":[],"relativePath":"docs/rules/resWrite.md","filePath":"docs/rules/resWrite.md"}'),o={name:"docs/rules/resWrite.md"};function i(l,e,d,c,n,h){return r(),a("div",null,e[0]||(e[0]=[s('<h1 id="reswrite" tabindex="-1">resWrite <a class="header-anchor" href="#reswrite" aria-label="Permalink to &quot;resWrite&quot;">​</a></h1><p>将响应内容体保存到指定目录或文件中，适用于需要记录响应数据的场景：</p><ul><li>自动根据请求URL生成文件路径</li><li>采用安全写入策略（可以采用 <a href="./enable.html">enable://forceReqWrite</a> 强制覆盖）</li><li>仅对包含响应内容体的请求有效（POST/PUT/PATCH等）</li><li>GET/HEAD 等无响应内容体请求会自动跳过</li><li>保存失败时自动跳过</li></ul><h2 id="规则语法" tabindex="-1">规则语法 <a class="header-anchor" href="#规则语法" aria-label="Permalink to &quot;规则语法&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pattern resWrite://fileOrDirPath [filters...]</span></span></code></pre></div><table tabindex="0"><thead><tr><th>参数</th><th>描述</th><th>详细文档</th></tr></thead><tbody><tr><td>pattern</td><td>匹配请求 URL 的表达式</td><td><a href="./pattern.html">匹配模式文档</a></td></tr><tr><td>fileOrDirPath</td><td>存储数据的目录或文件路径</td><td></td></tr><tr><td>filters</td><td>可选过滤器，支持匹配：<br>• 请求URL/方法/头部/内容<br>• 响应状态码/头部</td><td><a href="./filters.html">过滤器文档</a></td></tr></tbody></table><h2 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h2><h4 id="基础配置" tabindex="-1">基础配置 <a class="header-anchor" href="#基础配置" aria-label="Permalink to &quot;基础配置&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wproxy.org/docs resWrite:///User/xxx/test/</span></span></code></pre></div><h5 id="路径解析规则" tabindex="-1">路径解析规则： <a class="header-anchor" href="#路径解析规则" aria-label="Permalink to &quot;路径解析规则：&quot;">​</a></h5><ol><li><p><strong>当访问具体文件时</strong><br><code>https://wproxy.org/docs/test.html</code><br> → 保存到：<code>/User/xxx/test/test.html</code></p></li><li><p><strong>当访问目录路径时</strong><br><code>https://wproxy.org/docs/</code><br> → 保存到：<code>/User/xxx/test/index.html</code>（目标路径为 <code>/User/xxx/test/</code>，结尾为 <code>/</code> 或 <code>\\</code> 自动追加 <code>index.html</code>）</p></li></ol><h4 id="目录显式配置" tabindex="-1">目录显式配置 <a class="header-anchor" href="#目录显式配置" aria-label="Permalink to &quot;目录显式配置&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wproxy.org/docs/ resWrite:///User/xxx/test/</span></span></code></pre></div><h5 id="路径解析差异" tabindex="-1">路径解析差异： <a class="header-anchor" href="#路径解析差异" aria-label="Permalink to &quot;路径解析差异：&quot;">​</a></h5><ol><li><p><strong>访问子路径时</strong><br><code>https://wproxy.org/docs/test.html</code><br> → 仍保存到：<code>/User/xxx/test/test.html</code></p></li><li><p><strong>访问配置目录时</strong><br><code>https://wproxy.org/docs/</code><br> → 直接保存到：<code>/User/xxx/test/</code>（作为整体文件）</p></li></ol><blockquote><p>💡 关键区别：</p><ul><li>规则路径是否以 <code>/</code> 或 <code>\\</code>结尾，决定了目录请求的保存方式</li><li>非目录路径（无结尾 <code>/</code> 或 <code>\\</code>）会直接保存为指定文件</li><li>目录路径（有结尾 <code>/</code> 或 <code>\\</code>）会自动补全 <code>index.html</code></li></ul></blockquote><h4 id="指定文件" tabindex="-1">指定文件 <a class="header-anchor" href="#指定文件" aria-label="Permalink to &quot;指定文件&quot;">​</a></h4><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/^https://wproxy\\.org/docs/(\\?.*)?$ resWrite:///User/xxx/test/index.html</span></span></code></pre></div><blockquote><p>通过正则匹配限定请求 URL</p></blockquote><h2 id="关联协议" tabindex="-1">关联协议 <a class="header-anchor" href="#关联协议" aria-label="Permalink to &quot;关联协议&quot;">​</a></h2><ol><li>启用强制写入：<a href="./enable.html">enable://forceReqWrite</a></li><li>写入所有响应内容：<a href="./resWriteRaw.html">resWriteRaw</a></li></ol>',21)]))}const x=t(o,[["render",i]]);export{b as __pageData,x as default};
